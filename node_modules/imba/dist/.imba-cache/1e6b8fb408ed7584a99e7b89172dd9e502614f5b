{"js":{"code":"function defineName$__(cls,name){\n\tObject.defineProperty(cls,\"name\",{value:name,configurable:true});\n};\nconst $__initor__$ = Symbol.for('#__initor__'), $__inited__$ = Symbol.for('#__inited__'), $__hooks__$ = Symbol.for('#__hooks__');\n\n/*body*/\nimport {Location} from './location';\n\nexport class Request {\n\t\n\tconstructor(router,loc,referrer,params){\n\t\t\n\t\tthis.params = params;\n\t\tthis.router = router;\n\t\tif (loc) {\n\t\t\t\n\t\t\tthis.location = Location.parse(loc);\n\t\t\tthis.original = this.location.clone();\n\t\t};\n\t\tthis.referrer = referrer;\n\t}\n\t\n\tget apply(){\n\t\treturn this.params.apply || [];\n\t}\n\tget revert(){\n\t\treturn this.params.revert || [];\n\t}\n\tget state(){\n\t\treturn this.params.state;\n\t}\n\tget mode(){\n\t\treturn this.params.mode;\n\t}\n\t\n\tredirect(path){\n\t\t\n\t\tthis.location?.update?.(path);\n\t\treturn this;\n\t}\n\t\n\tget path(){\n\t\t\n\t\treturn this.location?.path;\n\t}\n\t\n\tget url(){\n\t\t\n\t\treturn this.location?.toString?.();\n\t}\n\t\n\tset path(value){\n\t\t\n\t\tthis.location.path = value;\n\t}\n\t\n\tabort(forced = false){\n\t\t\n\t\tthis.aborted = true;\n\t\tif (forced) { this.forceAbort = forced };\n\t\treturn this;\n\t}\n\t\n\tmatch(str){\n\t\t\n\t\treturn this.location ? this.router.route(str).match(this.path) : null;\n\t}\n\tstatic {\n\t\tdefineName$__(this,'Request');}\n};\n","dependencies":[],"map":{"version":3,"file":"request.js","sourceRoot":"","sources":["/Users/sindre/repos/imba/packages/imba/src/imba/router/request.imba"],"sourcesContent":["import {Location} from './location'\n\nexport class Request\n\tdef constructor router, loc, referrer, params\n\t\tparams = params\n\t\trouter = router\n\t\tif loc\n\t\t\tlocation = Location.parse(loc)\n\t\t\toriginal = location.clone!\n\t\treferrer = referrer\n\n\tget apply do params.apply or []\n\tget revert do params.revert or []\n\tget state do params.state\n\tget mode do params.mode\n\n\tdef redirect path\n\t\tlocation..update(path)\n\t\tself\n\n\tget path\n\t\tlocation..path\n\n\tget url\n\t\tlocation..toString!\n\n\tset path value\n\t\tlocation.path = value\n\n\tdef abort forced = no\n\t\taborted = yes\n\t\tforceAbort = forced if forced\n\t\tself\n\n\tdef match str\n\t\tlocation ? router.route(str).match(path) : null"],"names":[],"mappings":";;;;;;AAAA,MAAM,EAAE,QAAQ,OAAO,YAAY;;AAEnC,MAAM,CAAC,KAAK,CAAC,OAAO,EAAA;;CACf,WAAW,CAAC,MAAM,CAAE,GAAG,CAAE,QAAQ,CAAE,MAAM,CAAA;;EAC5C,KAAA,MAAM,GAAG,MAAM;EACf,KAAA,MAAM,GAAG,MAAM;EACf,EAAE,EAAC,GAAG,EAAA;;GACL,KAAA,QAAQ,GAAG,QAAQ,CAAC,KAAK,CAAC,GAAG,CAAC;GAC9B,KAAA,QAAQ,GAAG,KAAA,QAAQ,CAAC,KAAK,EAAC;GAAA;EAC3B,KAAA,QAAQ,GAAG,QAAQ;EAAA;;CAEpB,GAAG,CAAC,KAAK;EAAI,OAAA,KAAA,MAAM,CAAC,KAAK,CAAC,EAAE,CAAC,EAAE;EAXhC;CAYC,GAAG,CAAC,MAAM;EAAI,OAAA,KAAA,MAAM,CAAC,MAAM,CAAC,EAAE,CAAC,EAAE;EAZlC;CAaC,GAAG,CAAC,KAAK;EAAI,OAAA,KAAA,MAAM,CAAC,KAAK;EAb1B;CAcC,GAAG,CAAC,IAAI;EAAI,OAAA,KAAA,MAAM,CAAC,IAAI;EAdxB;;CAgBK,QAAQ,CAAC,IAAI,CAAA;;EAChB,KAAA,QAAQ,EAAE,MAAM,EAAA,CAAC,IAAI,CAAC;EACtB,OAAA,IAAI;EAAA;;CAEL,GAAG,CAAC,IAAI,EAAA;;EACP,OAAA,KAAA,QAAQ,EAAE,IAAI;EAAA;;CAEf,GAAG,CAAC,GAAG,EAAA;;EACN,OAAA,KAAA,QAAQ,EAAE,QAAQ,EAAA,EAAC;EAAA;;CAEpB,GAAG,CAAC,IAAI,CAAC,KAAK,CAAA;;EACb,KAAA,QAAQ,CAAC,IAAI,GAAG,KAAK;EAAA;;CAElB,KAAK,CAAC,MAAM,GAAG,KAAE,CAAA;;EACpB,KAAA,OAAO,GAAG,IAAG;EACO,EAAE,EAAC,MAAM,EAA7B,EAAA,KAAA,UAAU,GAAG,MAAM,EAAA;EACnB,OAAA,IAAI;EAAA;;CAED,KAAK,CAAC,GAAG,CAAA;;SACZ,KAAA,QAAQ,GAAG,KAAA,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,KAAK,CAAC,KAAA,IAAI,CAAC,GAAG,IAAI;EAAA;;;AAAA,CAAA;AAAA;"}},"css":{"code":""},"warnings":[],"errors":[]}
{"js":{"code":"function defineName$__(cls,name){\n\tObject.defineProperty(cls,\"name\",{value:name,configurable:true});\n};;\nfunction inheritClass$__(cls){\n\tObject.getPrototypeOf(cls.prototype).constructor?.inherited?.(cls);\n};\nimport {accessor as imba_accessor} from 'imba';\nvar $1 = Symbol('name'), $2 = Symbol(), $3 = Symbol('owners'), $4 = Symbol(), $5 = Symbol('courses'), $6 = Symbol(), $7 = Symbol(), $8 = Symbol('name'), $9 = Symbol(), $10 = Symbol('creator'), $11 = Symbol(), $12 = Symbol('lns'), $13 = Symbol(), $14 = Symbol('owners'), $15 = Symbol(), $16 = Symbol('private'), $17 = Symbol(), $18 = Symbol(), $19 = Symbol('cues'), $20 = Symbol(), $21 = Symbol('metadata'), $22 = Symbol(), $23 = Symbol(), $25, $26, $27, $29, $30, $31, $32, $33, $35, $37;\nconst $__init__$ = Symbol.for('#__init__'), $__patch__$ = Symbol.for('#__patch__'), $__initor__$ = Symbol.for('#__initor__'), $__inited__$ = Symbol.for('#__inited__'), $__hooks__$ = Symbol.for('#__hooks__');\n\n/*body*/\nimport 'op';\n\nexport class User extends OPUser {\n\t\n\tstatic {\n\t\tdefineName$__(this,'User');this.alias = 'u';\n\t\tinheritClass$__(this);}\n};\n\nexport class Hub extends OPObject {\n\t[$__patch__$]($$ = {},fields = true){\n\t\tvar $24;\n\t\tsuper[$__patch__$] && super[$__patch__$]($$,fields);\n\t\tfields && ($24 = $$.name) !== undefined && this.ααname.$init($24,this,$1,'name',$$);\n\t\tfields && ($24 = $$.owners) !== undefined && this.ααowners.$init($24,this,$3,'owners',$$);\n\t\tfields && ($24 = $$.courses) !== undefined && this.ααcourses.$init($24,this,$5,'courses',$$);\n\t\t\n\t}\n\tconstructor(){\n\t\tsuper(...arguments);\n\t\tsuper[$__init__$] || this[$__init__$]();this[$__initor__$]===$7 && (this[$__hooks__$]&&this[$__hooks__$].inited(this),this[$__inited__$] && this[$__inited__$]());\n\t}\n\t[$__init__$]($$ = null,deep = true,fields = true){\n\t\tdeep && super[$__init__$] && super[$__init__$](...arguments);\n\t\tfields && this.ααname.$init($$ ? $$.name : undefined,this,$1,'name',$$);\n\t\tfields && this.ααowners.$init($$ ? $$.owners : undefined,this,$3,'owners',$$);\n\t\tfields && this.ααcourses.$init($$ ? $$.courses : undefined,this,$5,'courses',$$);\n\t\t\n\t}\n\tset name(val){ this.ααname.$set(val,this,$1,'name') }\n\tget name(){ return this.ααname.$get(this,$1,'name') }\n\tget ααname(){ return this[$2] || imba_accessor(($25 = this.αstring(),$25),this,$1,'name',$2,Hub.prototype) }\n\tset owners(val){ this.ααowners.$set(val,this,$3,'owners') }\n\tget owners(){ return this.ααowners.$get(this,$3,'owners') }\n\tget ααowners(){ return this[$4] || imba_accessor(($26 = this.αzset(User),($26.as instanceof Function) ? $26.as(OP.OWNER) : ($26.as = OP.OWNER),($26.w instanceof Function) ? $26.w(OP.OWNER) : ($26.w = OP.OWNER),$26),this,$3,'owners',$4,Hub.prototype) }\n\tset courses(val){ this.ααcourses.$set(val,this,$5,'courses') }\n\tget courses(){ return this.ααcourses.$get(this,$5,'courses') }\n\tget ααcourses(){ return this[$6] || imba_accessor(($27 = this.αchildren(Course),($27.w instanceof Function) ? $27.w(OP.OWNER) : ($27.w = OP.OWNER),$27),this,$5,'courses',$6,Hub.prototype) }\n\tstatic {\n\t\tthis.prototype[$__initor__$] = $7;defineName$__(this,'Hub');this.alias = 'h';\n\t\tinheritClass$__(this);}\n};\n\nexport class Content extends OPObject {\n\t[$__patch__$]($$ = {},fields = true){\n\t\tvar $28;\n\t\tsuper[$__patch__$] && super[$__patch__$]($$,fields);\n\t\tfields && ($28 = $$.name) !== undefined && this.ααname.$init($28,this,$8,'name',$$);\n\t\tfields && ($28 = $$.creator) !== undefined && this.ααcreator.$init($28,this,$10,'creator',$$);\n\t\tfields && ($28 = $$.lns) !== undefined && this.ααlns.$init($28,this,$12,'lns',$$);\n\t\tfields && ($28 = $$.owners) !== undefined && this.ααowners.$init($28,this,$14,'owners',$$);\n\t\tfields && ($28 = $$.private) !== undefined && this.ααprivate.$init($28,this,$16,'private',$$);\n\t\t\n\t}\n\tconstructor(){\n\t\tsuper(...arguments);\n\t\tsuper[$__init__$] || this[$__init__$]();this[$__initor__$]===$18 && (this[$__hooks__$]&&this[$__hooks__$].inited(this),this[$__inited__$] && this[$__inited__$]());\n\t}\n\t[$__init__$]($$ = null,deep = true,fields = true){\n\t\tdeep && super[$__init__$] && super[$__init__$](...arguments);\n\t\tfields && this.ααname.$init($$ ? $$.name : undefined,this,$8,'name',$$);\n\t\tfields && this.ααcreator.$init($$ ? $$.creator : undefined,this,$10,'creator',$$);\n\t\tfields && this.ααlns.$init($$ ? $$.lns : undefined,this,$12,'lns',$$);\n\t\tfields && this.ααowners.$init($$ ? $$.owners : undefined,this,$14,'owners',$$);\n\t\tfields && this.ααprivate.$init($$ ? $$.private : undefined,this,$16,'private',$$);\n\t\t\n\t}\n\tset name(val){ this.ααname.$set(val,this,$8,'name') }\n\tget name(){ return this.ααname.$get(this,$8,'name') }\n\tget ααname(){ return this[$9] || imba_accessor(($29 = this.αstring(),($29.w instanceof Function) ? $29.w(OP.OWNER | OP.CREATOR) : ($29.w = OP.OWNER | OP.CREATOR),$29),this,$8,'name',$9,Content.prototype) }\n\tset creator(val){ this.ααcreator.$set(val,this,$10,'creator') }\n\tget creator(){ return this.ααcreator.$get(this,$10,'creator') }\n\tget ααcreator(){ return this[$11] || imba_accessor(($30 = this.αref(OP.User),($30.as instanceof Function) ? $30.as(OP.CREATOR) : ($30.as = OP.CREATOR),$30.default = function() {\n\t\treturn OP.user;\n\t},$30),this,$10,'creator',$11,Content.prototype) }\n\tset lns(val){ this.ααlns.$set(val,this,$12,'lns') }\n\tget lns(){ return this.ααlns.$get(this,$12,'lns') }\n\tget ααlns(){ return this[$13] || imba_accessor(($31 = this.αparents(OPObject),$31),this,$12,'lns',$13,Content.prototype) }\n\tset owners(val){ this.ααowners.$set(val,this,$14,'owners') }\n\tget owners(){ return this.ααowners.$get(this,$14,'owners') }\n\tget ααowners(){ return this[$15] || imba_accessor(($32 = this.αzset(User),($32.as instanceof Function) ? $32.as(OP.OWNER) : ($32.as = OP.OWNER),$32),this,$14,'owners',$15,Content.prototype) }\n\tset private(val){ this.ααprivate.$set(val,this,$16,'private') }\n\tget private(){ return this.ααprivate.$get(this,$16,'private') }\n\tget ααprivate(){ return this[$17] || imba_accessor(($33 = this.αtoggle(),($33.w instanceof Function) ? $33.w(OP.OWNER) : ($33.w = OP.OWNER),$33),this,$16,'private',$17,Content.prototype) }\n\tstatic {\n\t\tthis.prototype[$__initor__$] = $18;defineName$__(this,'Content');inheritClass$__(this);}\n};\n\nexport class Course extends Content {\n\t\n\treadableΞfor(user,roles,deep){\n\t\t\n\t\treturn this.private ? (roles & (OP.OWNER | OP.MEMBER)) : (super.readableΞfor(...arguments));\n\t}\n\tstatic {\n\t\tdefineName$__(this,'Course');this.alias = 'c';\n\t\tinheritClass$__(this);}\n};\n\nexport class Scrim extends Content {\n\t[$__patch__$]($$ = {},fields = true){\n\t\tvar $34;\n\t\tsuper[$__patch__$] && super[$__patch__$]($$,fields);\n\t\tfields && ($34 = $$.cues) !== undefined && this.ααcues.$init($34,this,$19,'cues',$$);\n\t\t\n\t}\n\t[$__init__$]($$ = null,deep = true,fields = true){\n\t\tdeep && super[$__init__$] && super[$__init__$](...arguments);\n\t\tfields && this.ααcues.$init($$ ? $$.cues : undefined,this,$19,'cues',$$);\n\t\t\n\t}\n\tset cues(val){ this.ααcues.$set(val,this,$19,'cues') }\n\tget cues(){ return this.ααcues.$get(this,$19,'cues') }\n\tget ααcues(){ return this[$20] || imba_accessor(($35 = this.αobject(),($35.lazy instanceof Function) ? $35.lazy() : ($35.lazy = true),$35),this,$19,'cues',$20,Scrim.prototype) }\n\tstatic {\n\t\tdefineName$__(this,'Scrim');this.alias = 's';\n\t\tinheritClass$__(this);}\n};\n\nexport class MediaStreamRecording extends OPObject {\n\t[$__patch__$]($$ = {},fields = true){\n\t\tvar $36;\n\t\tsuper[$__patch__$] && super[$__patch__$]($$,fields);\n\t\tfields && ($36 = $$.metadata) !== undefined && this.ααmetadata.$init($36,this,$21,'metadata',$$);\n\t\t\n\t}\n\tconstructor(){\n\t\tsuper(...arguments);\n\t\tsuper[$__init__$] || this[$__init__$]();this[$__initor__$]===$23 && (this[$__hooks__$]&&this[$__hooks__$].inited(this),this[$__inited__$] && this[$__inited__$]());\n\t}\n\t[$__init__$]($$ = null,deep = true,fields = true){\n\t\tdeep && super[$__init__$] && super[$__init__$](...arguments);\n\t\tfields && this.ααmetadata.$init($$ ? $$.metadata : undefined,this,$21,'metadata',$$);\n\t\t\n\t}\n\tset metadata(val){ this.ααmetadata.$set(val,this,$21,'metadata') }\n\tget metadata(){ return this.ααmetadata.$get(this,$21,'metadata') }\n\tget ααmetadata(){ return this[$22] || imba_accessor(($37 = this.αobject(),$37),this,$21,'metadata',$22,MediaStreamRecording.prototype) }\n\tstatic {\n\t\tthis.prototype[$__initor__$] = $23;defineName$__(this,'MediaStreamRecording');this.alias = 'msr';\n\t\tinheritClass$__(this);}\n};\n\nexport default [\n\t{id: 'u02',name: 'Sindre'},\n\t{id: 'u03',name: 'Per'},\n\t{id: 'u04',name: 'Magnus'},\n\t{id: 'u05',name: 'Rando'},\n\t\n\t{id: 'h01',name: 'Scrimba',owners: {u02: 1}},\n\t{id: 'h02',name: 'Coursera',owners: {u03: 1}},\n\t\n\t{id: 'c01',name: 'AI Apps',owners: {u03: 1},lns: {h01: 1}},\n\t{id: 's011',name: 'Scrim',lns: {c01: 10},cues: {a: 1,b: 2}},\n\t{id: 's012',name: 'Scrim',lns: {c01: 20},cues: {a: 1,b: 2}},\n\t\n\t{id: 'c02',name: 'Imba Launch',private: 1,owners: {u02: 1},lns: {h01: 2}},\n\t{id: 's021',name: 'Scrim',lns: {c02: 10}},\n\t{id: 's022',name: 'Scrim',lns: {c02: 20}},\n\t\n\t{id: 's001',name: 'Bootcamp Offer',lns: {c01: 5,c02: 5}}\n];\n","dependencies":[],"map":{"version":3,"file":"schema.js","sourceRoot":"","sources":["/Users/sindre/repos/scrimba/op/test/courses/schema.imba"],"sourcesContent":["import 'op'\n\nexport class User < OPUser\n\tstatic alias = 'u'\n\nexport class Hub < OPObject\n\tstatic alias = 'h'\n\tname @string\n\towners @zset(User).as(OP.OWNER).w(OP.OWNER)\n\tcourses @children(Course).w(OP.OWNER)\n\nexport class Content < OPObject\n\tname @string.w(OP.OWNER | OP.CREATOR)\n\tcreator @ref(OP.User).as(OP.CREATOR) = OP.user\n\tlns @parents(OPObject)\n\towners @zset(User).as(OP.OWNER)\n\tprivate @toggle.w(OP.OWNER)\n\nexport class Course < Content\n\tstatic alias = 'c'\n\n\tdef readable-for user, roles, deep\n\t\tprivate ? roles & (OP.OWNER | OP.MEMBER) : super\n\nexport class Scrim < Content\n\tstatic alias = 's'\n\n\tcues @object.lazy\n\nexport class MediaStreamRecording < OPObject\n\tstatic alias = 'msr'\n\tmetadata @object\n\nexport default [\n\t{id: 'u02', name: 'Sindre'}\n\t{id: 'u03', name: 'Per'}\n\t{id: 'u04', name: 'Magnus'}\n\t{id: 'u05', name: 'Rando'}\n\n\t{id: 'h01', name: 'Scrimba', owners: {u02: 1}}\n\t{id: 'h02', name: 'Coursera', owners: {u03: 1}}\n\n\t{id: 'c01', name: 'AI Apps', owners: {u03: 1}, lns: {h01: 1}}\n\t{id: 's011', name: 'Scrim', lns: {c01: 10}, cues: {a:1,b:2}}\n\t{id: 's012', name: 'Scrim', lns: {c01: 20}, cues: {a:1,b:2}}\n\n\t{id: 'c02', name: 'Imba Launch', private: 1, owners: {u02: 1}, lns: {h01: 2}}\n\t{id: 's021', name: 'Scrim', lns: {c02: 10}}\n\t{id: 's022', name: 'Scrim', lns: {c02: 20}}\n\n\t{id: 's001', name: 'Bootcamp Offer', lns: {c01: 5, c02: 5}}\n\n]\n"],"names":[],"mappings":"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"}},"css":{"code":""},"warnings":[],"errors":[]}
{"js":{"code":"function defineName$__(cls,name){\n\tObject.defineProperty(cls,\"name\",{value:name,configurable:true});\n};;\nfunction inheritClass$__(cls){\n\tObject.getPrototypeOf(cls.prototype).constructor?.inherited?.(cls);\n};\nimport {accessor as imba_accessor} from 'imba';\nvar $1 = Symbol('creator'), $2 = Symbol(), $3 = Symbol('name'), $4 = Symbol(), $5 = Symbol('num'), $6 = Symbol(), $7 = Symbol(), $9, $10, $11;\nconst $__init__$ = Symbol.for('#__init__'), $__patch__$ = Symbol.for('#__patch__'), $__initor__$ = Symbol.for('#__initor__'), $__inited__$ = Symbol.for('#__inited__'), $__hooks__$ = Symbol.for('#__hooks__');\n\n/*body*/\nimport setup from '../setup';\n\nexport class Item extends OP.Object {\n\t[$__patch__$]($$ = {},fields = true){\n\t\tvar $8;\n\t\tsuper[$__patch__$] && super[$__patch__$]($$,fields);\n\t\tfields && ($8 = $$.creator) !== undefined && this.ααcreator.$init($8,this,$1,'creator',$$);\n\t\tfields && ($8 = $$.name) !== undefined && this.ααname.$init($8,this,$3,'name',$$);\n\t\tfields && ($8 = $$.num) !== undefined && this.ααnum.$init($8,this,$5,'num',$$);\n\t\t\n\t}\n\tconstructor(){\n\t\tsuper(...arguments);\n\t\tsuper[$__init__$] || this[$__init__$]();this[$__initor__$]===$7 && (this[$__hooks__$]&&this[$__hooks__$].inited(this),this[$__inited__$] && this[$__inited__$]());\n\t}\n\t[$__init__$]($$ = null,deep = true,fields = true){\n\t\tdeep && super[$__init__$] && super[$__init__$](...arguments);\n\t\tfields && this.ααcreator.$init($$ ? $$.creator : undefined,this,$1,'creator',$$);\n\t\tfields && this.ααname.$init($$ ? $$.name : undefined,this,$3,'name',$$);\n\t\tfields && this.ααnum.$init($$ ? $$.num : undefined,this,$5,'num',$$);\n\t\t\n\t}\n\tset creator(val){ this.ααcreator.$set(val,this,$1,'creator') }\n\tget creator(){ return this.ααcreator.$get(this,$1,'creator') }\n\tget ααcreator(){ return this[$2] || imba_accessor(($9 = this.αref(OP.User),$9),this,$1,'creator',$2,Item.prototype) }\n\tset name(val){ this.ααname.$set(val,this,$3,'name') }\n\tget name(){ return this.ααname.$get(this,$3,'name') }\n\tget ααname(){ return this[$4] || imba_accessor(($10 = this.αstring(),$10),this,$3,'name',$4,Item.prototype) }\n\tset num(val){ this.ααnum.$set(val,this,$5,'num') }\n\tget num(){ return this.ααnum.$get(this,$5,'num') }\n\tget ααnum(){ return this[$6] || imba_accessor(($11 = this.αnumber(),$11),this,$5,'num',$6,Item.prototype) }\n\tstatic {\n\t\tthis.prototype[$__initor__$] = $7;defineName$__(this,'Item');inheritClass$__(this);}\n};\n\nawait setup(__filename);\n\ntest(\"Item.new\",async function({sindre: sindre}) {\n\t\n\tlet item = Item.new({num: 1});\n\tok(item.localΦ);\n\tok(item.orphanΦ);\n\tok(item.unsavedΦ);\n\tok(item.resolvedΦ);\n\tok(!(Item.all().has(item)));\n\t\n\tawait item.save();\n\tok(!(item.orphanΦ));\n\treturn ok(Item.all().has(item));\n});\n\n","dependencies":[],"map":{"version":3,"file":"new.test.js","sourceRoot":"","sources":["/Users/sindre/repos/scrimba/op/test/core/new.test.imba"],"sourcesContent":["import setup from '../setup'\n\nexport class Item < OP.Object\n\tcreator @ref(OP.User)\n\tname @string\n\tnum @number\n\nawait setup(__filename)\n\ntest \"Item.new\" do({sindre})\n\tlet item = Item.new(num: 1)\n\tok item.local?\n\tok item.orphan?\n\tok item.unsaved?\n\tok item.resolved?\n\tok !Item.all().has(item)\n\n\tawait item.save!\n\tok !item.orphan?\n\tok Item.all().has(item)\n\n"],"names":[],"mappings":";;;;;;;;;;;AAAA,MAAM,CAAC,KAAK,MAAM,UAAU;;AAE5B,MAAM,CAAC,KAAK,CAAC,IAAI,SAAG,EAAE,CAAC,MAAM,EAAA;qCAF7B;;;qBAGC,OAAO,CAAA;qBACP,IAAI,CAAA;qBACJ,GAAG,CAAA;;EALJ;cAAA;;;EAAA;kDAAA;;yCAGC,OAAO;sCACP,IAAI;qCACJ,GAAG;;EALJ;KAGC,OAAO;KAAP,OAAO;KAAP,SAAO,gDAAC,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,0BADT,IAAI;KAEhB,IAAI;KAAJ,IAAI;KAAJ,MAAI,iDAAC,OAAO,EAAA,wBAFA,IAAI;KAGhB,GAAG;KAAH,GAAG;KAAH,KAAG,iDAAC,OAAO,EAAA,uBAHC,IAAI;;;AAGL,CAAA;;MAEN,KAAK,CAAC,UAAU,CAAC;;AAEvB,IAAI,CAAC,UAAU,CAAC,cAAE,CAAC,CAAC,MAAM,EAAN,MAAM,CAAC,EAAC;;KACvB,IAAI,GAAG,IAAI,CAAC,GAAG,EAAC,GAAG,EAAE,CAAC,EAAC;CAC3B,EAAE,CAAC,IAAI,CAAC,MAAM,CAAA;CACd,EAAE,CAAC,IAAI,CAAC,OAAO,CAAA;CACf,EAAE,CAAC,IAAI,CAAC,QAAQ,CAAA;CAChB,EAAE,CAAC,IAAI,CAAC,SAAS,CAAA;CACjB,EAAE,CAAC,EAAC,IAAI,CAAC,GAAG,EAAE,CAAC,GAAG,CAAC,IAAI,CAAC,CAAA,CAAA;;OAElB,IAAI,CAAC,IAAI,EAAC;CAChB,EAAE,CAAC,EAAC,IAAI,CAAC,OAAO,CAAA,CAAA;CAChB,OAAA,EAAE,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC,GAAG,CAAC,IAAI,CAAC,CAAA;CAAA,CAVpB;;AAYJ;"}},"css":{"code":""},"warnings":[],"errors":[]}
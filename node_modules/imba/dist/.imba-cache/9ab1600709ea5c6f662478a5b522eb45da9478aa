{"js":{"code":"function defineName$__(cls,name){\n\tObject.defineProperty(cls,\"name\",{value:name,configurable:true});\n};;\nfunction inheritClass$__(cls){\n\tObject.getPrototypeOf(cls.prototype).constructor?.inherited?.(cls);\n};\nimport {accessor as imba_accessor, observable as imba_observable} from 'imba';\nvar $1 = Symbol('id'), $2 = Symbol(), $3 = Symbol('name'), $4 = Symbol(), $5 = Symbol(), $7, $8;\nconst $__init__$ = Symbol.for('#__init__'), $__patch__$ = Symbol.for('#__patch__'), $__initor__$ = Symbol.for('#__initor__'), $__inited__$ = Symbol.for('#__inited__'), $__hooks__$ = Symbol.for('#__hooks__');\n\n/*body*/\nimport {Index} from '../core/iterable';\n\nexport class OPRole extends OPObject {\n\t[$__patch__$]($$ = {},fields = true){\n\t\tvar $6;\n\t\tsuper[$__patch__$] && super[$__patch__$]($$,fields);\n\t\tfields && ($6 = $$.id) !== undefined && this.ααid.$init($6,this,$1,'id',$$);\n\t\tfields && ($6 = $$.name) !== undefined && this.ααname.$init($6,this,$3,'name',$$);\n\t\t\n\t}\n\tconstructor(){\n\t\tsuper(...arguments);\n\t\tsuper[$__init__$] || this[$__init__$]();this[$__initor__$]===$5 && (this[$__hooks__$]&&this[$__hooks__$].inited(this),this[$__inited__$] && this[$__inited__$]());\n\t}\n\t[$__init__$]($$ = null,deep = true,fields = true){\n\t\tdeep && super[$__init__$] && super[$__init__$](...arguments);\n\t\tfields && this.ααid.$init($$ ? $$.id : undefined,this,$1,'id',$$);\n\t\tfields && this.ααname.$init($$ ? $$.name : undefined,this,$3,'name',$$);\n\t\t\n\t}\n\tset id(val){ this.ααid.$set(val,this,$1,'id') }\n\tget id(){ return this.ααid.$get(this,$1,'id') }\n\tget ααid(){ return this[$2] || imba_accessor(($7 = this.αkey(),($7.bit instanceof Function) ? $7.bit() : ($7.bit = true),($7.system instanceof Function) ? $7.system() : ($7.system = true),$7),this,$1,'id',$2,OPRole.prototype) }\n\tset name(val){ this.ααname.$set(val,this,$3,'name') }\n\tget name(){ return this.ααname.$get(this,$3,'name') }\n\tget ααname(){ return this[$4] || imba_accessor(($8 = this.αstring(),$8),this,$3,'name',$4,OPRole.prototype) }\n\t\n\tstatic namesΞfor(roles){\n\t\t\n\t\treturn OP.roles.filter(function(_0) { return _0 & roles; }).map(function(_0) { return _0.name; });\n\t}\n\t\n\t[Symbol.match](item){\n\t\t\n\t\tif (this.check) { return this.check(item) };\n\t\treturn item.roles & this;\n\t}\n\t\n\t$pov(target){\n\t\t\n\t\treturn this[String(target)] ??= imba_observable(new Index);\n\t}\n\t\n\tget int(){\n\t\t\n\t\treturn +this;\n\t}\n\t\n\ttoJSON(){\n\t\t\n\t\treturn +this;\n\t}\n\tstatic {\n\t\tthis.prototype[$__initor__$] = $5;defineName$__(this,'OPRole');this.alias = 'R';\n\t\tinheritClass$__(this);}\n}; globalThis.OPRole = OPRole;\n","dependencies":[],"map":{"version":3,"file":"role.js","sourceRoot":"","sources":["/Users/sindre/repos/scrimba/op/src/types/role.imba"],"sourcesContent":["import {Index} from '../core/iterable'\n\nexport global class OPRole < OPObject\n\tstatic alias = 'R'\n\tid @key.bit.system\n\tname @string\n\n\tstatic def names-for roles\n\t\tOP.roles.filter(do $1 & roles).map(do $1.name)\n\n\tdef [Symbol.match] item\n\t\treturn check(item) if check\n\t\treturn item.roles & self\n\n\tdef $pov target\n\t\tself[String(target)] ??= imba.observable(new Index)\n\n\tget int\n\t\t+self\n\n\tdef toJSON\n\t\t+self\n"],"names":[],"mappings":";;;;;;;;;;;AAAA,MAAM,EAAE,KAAK,OAAO,kBAAkB;;AAEtC,MAAM,CAAQ,KAAK,CAAC,MAAM,SAAG,QAAQ,EAAA;qCAFrC;;;qBAIC,EAAE,CAAA;qBACF,IAAI,CAAA;;EALL;cAAA;;;EAAA;kDAAA;;oCAIC,EAAE;sCACF,IAAI;;EALL;KAIC,EAAE;KAAF,EAAE;KAAF,IAAE,gDAAC,IAAI,EAAA,KAAC,GAAG,2BAAH,GAAG,EAAA,OAAH,GAAG,aAAC,MAAM,2BAAN,MAAM,EAAA,OAAN,MAAM,6BAFC,MAAM;KAGzB,IAAI;KAAJ,IAAI;KAAJ,MAAI,gDAAC,OAAO,EAAA,uBAHO,MAAM;;CAKzB,MAAM,CAAK,SAAS,CAAC,KAAK,CAAA;;EACzB,OAAA,EAAE,CAAC,KAAK,CAAC,MAAM,CAAC,QAAE,cAAC,EAAE,CAAC,CAAC,CAAC,KAAK,IAAC,CAAC,GAAG,CAAC,QAAE,cAAC,EAAE,CAAC,IAAI,IAAC;EAAA;;EAE1C,MAAM,CAAC,KAAK,EAAE,IAAI,CAAA;;EACH,EAAE,EAAC,KAAA,KAAK,EAA3B,EAAA,MAAM,CAAC,KAAA,KAAK,CAAC,IAAI,CAAC;EAClB,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI;EAAA;;CAErB,IAAI,CAAC,MAAM,CAAA;;SACd,IAAI,CAAA,MAAO,CAAC,MAAM,CAAC,CAAC,KAAK,eAAe,CAAC,GAAG,CAAC,KAAK,CAAC;EAAA;;CAEpD,GAAG,CAAC,GAAG,EAAA;;EACN,OAAA,CAAC,IAAI;EAAA;;CAEF,MAAM,EAAA;;EACT,OAAA,CAAC,IAAI;EAAA;;sEAlBC,KAAK,GAAG,GAAG;;AAkBZ,cAnBa,MAAM,GAAN,MAAM;AAoB1B;"}},"css":{"code":""},"warnings":[],"errors":[]}
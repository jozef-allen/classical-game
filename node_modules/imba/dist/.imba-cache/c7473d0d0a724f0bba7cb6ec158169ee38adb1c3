{"js":{"code":"function defineName$__(cls,name){\n\tObject.defineProperty(cls,\"name\",{value:name,configurable:true});\n};;\nfunction inheritClass$__(cls){\n\tObject.getPrototypeOf(cls.prototype).constructor?.inherited?.(cls);\n};;\nfunction extend$__(target,ext){\n\t// @ts-ignore\n\tconst descriptors = Object.getOwnPropertyDescriptors(ext);\n\tdelete descriptors.constructor;\n\tif(target.extend__ instanceof Function){\n\t\ttarget.extend__(descriptors,ext);\n\t} else {\n\t\t// @ts-ignore\n\t\tObject.defineProperties(target,descriptors);\n\t}\n\treturn target;\n};\n\n/*body*/\nimport './any';\n\nexport class OPDataField extends OPPlainField {\n\t\n\t\n\t$sub(target,path){\n\t\t\n\t\tthrow \"not implemented yet\";\n\t}\n\tstatic {\n\t\tdefineName$__(this,'OPDataField');inheritClass$__(this);}\n}; globalThis.OPDataField = OPDataField;\n\nexport class OPDataPathField extends OPPlainField {\n\t\n\t\n\t$bound(target,path){\n\t\t\n\t\tlet f = Object.create(this);\n\t\tf.$target = target;\n\t\tf.$path = path;\n\t\treturn f;\n\t}\n\tstatic {\n\t\tdefineName$__(this,'OPDataPathField');inheritClass$__(this);}\n}; globalThis.OPDataPathField = OPDataPathField;\n\nclass ΩOPObject {\n\t\n\tαobject(){\n\t\t\n\t\t// Should be more for richer objects\n\t\tlet field = new OPDataField;\n\t\tfield.pgtype = 'jsonb';\n\t\treturn field;\n\t}\n\t\n\tαjson(){\n\t\t\n\t\t// Should be more for richer objects\n\t\t// Use proxy?\n\t\tlet field = new OPDataField;\n\t\tfield.pgtype = 'jsonb';\n\t\treturn field;\n\t}\n\tstatic {\n\t\tdefineName$__(this,'OPObject');}\n};\nextend$__(OPObject.prototype,ΩOPObject.prototype);\n;\n","dependencies":[],"map":{"version":3,"file":"data.js","sourceRoot":"","sources":["/Users/sindre/repos/scrimba/op/src/fields/data.imba"],"sourcesContent":["import './any'\n\nexport global class OPDataField < OPPlainField\n\n\tdef $sub target, path\n\t\tthrow \"not implemented yet\"\n\nexport global class OPDataPathField < OPPlainField\n\n\tdef $bound target,path\n\t\tlet f = Object.create(self)\n\t\tf.$target = target\n\t\tf.$path = path\n\t\treturn f\n\nextend class OPObject\n\tdef @object\n\t\t# Should be more for richer objects\n\t\tlet field = new OPDataField\n\t\tfield.pgtype = 'jsonb'\n\t\treturn field\n\n\tdef @json\n\t\t# Should be more for richer objects\n\t\t# Use proxy?\n\t\tlet field = new OPDataField\n\t\tfield.pgtype = 'jsonb'\n\t\treturn field"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAAA,MAAM,CAAC,OAAO;;AAEd,MAAM,CAAQ,KAAK,CAAC,WAAW,SAAG,YAAY,EAAA;;;CAEzC,IAAI,CAAC,MAAM,CAAE,IAAI,CAAA;;QACd,qBAAqB;EAAA;;;AAAA,cAHT,WAAW,GAAX,WAAW;;AAK/B,MAAM,CAAQ,KAAK,CAAC,eAAe,SAAG,YAAY,EAAA;;;CAE7C,MAAM,CAAC,MAAM,CAAC,IAAI,CAAA;;MACjB,CAAC,GAAG,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC;EAC3B,CAAC,CAAC,OAAO,GAAG,MAAM;EAClB,CAAC,CAAC,KAAK,GAAG,IAAI;EACd,MAAM,CAAC,CAAC;EAAA;;;AAAA,cANU,eAAe,GAAf,eAAe;;AAQ5B,KAAK,CAAC,SAAQ,EAAA;;CAChB,OAAO,EAAA;;;MAEN,KAAK,GAAG,GAAG,CAAC,WAAW;EAC3B,KAAK,CAAC,MAAM,GAAG,OAAO;EACtB,MAAM,CAAC,KAAK;EAAA;;CAET,KAAK,EAAA;;;;MAGJ,KAAK,GAAG,GAAG,CAAC,WAAW;EAC3B,KAAK,CAAC,MAAM,GAAG,OAAO;EACtB,MAAM,CAAC,KAAK;EAAA;;;AAAA;UAZD,QAAQ;AAYP;AAAA;"}},"css":{"code":""},"warnings":[],"errors":[]}
{"js":{"code":"function defineName$__(cls,name){\n\tObject.defineProperty(cls,\"name\",{value:name,configurable:true});\n};;\nfunction inheritClass$__(cls){\n\tObject.getPrototypeOf(cls.prototype).constructor?.inherited?.(cls);\n};;\nfunction extend$__(target,ext){\n\t// @ts-ignore\n\tconst descriptors = Object.getOwnPropertyDescriptors(ext);\n\tdelete descriptors.constructor;\n\tif(target.extend__ instanceof Function){\n\t\ttarget.extend__(descriptors,ext);\n\t} else {\n\t\t// @ts-ignore\n\t\tObject.defineProperties(target,descriptors);\n\t}\n\treturn target;\n};\nconst $setup$ = Symbol.for('#setup'), $__init__$ = Symbol.for('#__init__'), $__patch__$ = Symbol.for('#__patch__'), $__initor__$ = Symbol.for('#__initor__'), $__inited__$ = Symbol.for('#__inited__'), $__hooks__$ = Symbol.for('#__hooks__');\nvar $1 = Symbol();\n\n/*body*/\nimport './any';\n\nexport class OPAggField extends OPField {\n\t[$__patch__$]($$ = {},fields = true){\n\t\tvar $2;\n\t\tsuper[$__patch__$] && super[$__patch__$]($$,fields);\n\t\t($2 = $$.pgtype) !== undefined && (this.pgtype = $2);\n\t\t\n\t}\n\tconstructor(){\n\t\tsuper(...arguments);\n\t\tsuper[$__init__$] || this[$__init__$]();this[$__initor__$]===$1 && (this[$__hooks__$]&&this[$__hooks__$].inited(this),this[$__inited__$] && this[$__inited__$]());\n\t}\n\t[$__init__$]($$ = null,deep = true,fields = true){\n\t\tvar $3;\n\t\tdeep && super[$__init__$] && super[$__init__$](...arguments);\n\t\tthis.pgtype = ($$ && ($3 = $$.pgtype) !== undefined) ? ($3) : 'integer';\n\t\t\n\t}\n\t[$setup$](){\n\t\t\n\t\tthis.args[0].$agg = this;\n\t\treturn this;\n\t\t// connect to the other field\n\t}\n\t\n\t/**\n\t@returns { number }\n\t*/\n\t$get(target){\n\t\t\n\t\tlet d = target.$plain;\n\t\treturn d && d[this.name] || 0;\n\t}\n\t\n\t$patch(){\n\t\t\n\t\t// update the value in $plain?\n\t\treturn true;\n\t}\n\tstatic {\n\t\tthis.prototype[$__initor__$] = $1;defineName$__(this,'OPAggField');inheritClass$__(this);}\n}; globalThis.OPAggField = OPAggField;\n\nclass ΩOPObject {\n\t\n\t\n\tαagg(target){\n\t\t\n\t\treturn new OPAggField(target);\n\t}\n\tstatic {\n\t\tdefineName$__(this,'OPObject');}\n};\nextend$__(OPObject.prototype,ΩOPObject.prototype);\n;\n","dependencies":[],"map":{"version":3,"file":"agg.js","sourceRoot":"","sources":["/Users/sindre/repos/scrimba/op/src/fields/agg.imba"],"sourcesContent":["import './any'\n\nexport global class OPAggField < OPField\n\tpgtype = 'integer'\n\n\tdef #setup\n\t\targs[0].$agg = self\n\t\tself\n\t\t# connect to the other field\n\n\tdef $get\\number target\n\t\tlet d = target.$plain\n\t\td and d[name] or 0\n\n\tdef $patch\n\t\t# update the value in $plain?\n\t\tyes\n\nextend class OPObject\n\n\tdef @agg target\n\t\tnew OPAggField(target)"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAAA,MAAM,CAAC,OAAO;;AAEd,MAAM,CAAQ,KAAK,CAAC,UAAU,SAAG,OAAO,EAAA;qCAFxC;;;WAGC,MAAM,CAAA,wBAAN,MAAM;;EAHP;cAAA;;;EAAA;kDAAA;;;OAGC,MAAM,mBAAN,MAAM,CAAA,qBAAA,IAAG,SAAS;;EAHnB;YAKW;;EACT,KAAA,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,GAAG,IAAI;EACnB,OAAA,IAAI;;EACwB;;;YAEpB,MAAM;;CAAX,IAAI,CAAQ,MAAM,CAAA;;MACjB,CAAC,GAAG,MAAM,CAAC,MAAM;EACrB,OAAA,CAAC,CAAC,EAAG,CAAC,CAAC,CAAA,KAAC,IAAI,CAAC,CAAC,EAAE,CAAC,CAAC;EAAA;;CAEf,MAAM,EAAA;;;EAET,OAAA,IAAG;EAAA;;;AAAA,cAde,UAAU,GAAV,UAAU;;AAgBvB,KAAK,CAAC,SAAQ,EAAA;;;CAEhB,IAAI,CAAC,MAAM,CAAA;;EACd,OAAA,GAAG,CAAC,UAAU,CAAC,MAAM,CAAC;EAAA;;;AAAA;UAHX,QAAQ;AAGG;AAAA;"}},"css":{"code":""},"warnings":[],"errors":[]}
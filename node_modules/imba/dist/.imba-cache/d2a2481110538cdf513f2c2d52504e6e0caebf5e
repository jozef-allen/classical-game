{"js":{"code":"function defineName$__(cls,name){\n\tObject.defineProperty(cls,\"name\",{value:name,configurable:true});\n};;\nfunction inheritClass$__(cls){\n\tObject.getPrototypeOf(cls.prototype).constructor?.inherited?.(cls);\n};\nimport {accessor as imba_accessor} from 'imba';\nvar $1 = Symbol('name'), $2 = Symbol(), $3 = Symbol('desc'), $4 = Symbol(), $5 = Symbol(), $7, $8;\nconst $__init__$ = Symbol.for('#__init__'), $__patch__$ = Symbol.for('#__patch__'), $__initor__$ = Symbol.for('#__initor__'), $__inited__$ = Symbol.for('#__inited__'), $__hooks__$ = Symbol.for('#__hooks__');\n\n/*body*/\nimport setup from './setup';\n\nclass Item extends OP.Object {\n\t[$__patch__$]($$ = {},fields = true){\n\t\tvar $6;\n\t\tsuper[$__patch__$] && super[$__patch__$]($$,fields);\n\t\tfields && ($6 = $$.name) !== undefined && this.ααname.$init($6,this,$1,'name',$$);\n\t\tfields && ($6 = $$.desc) !== undefined && this.ααdesc.$init($6,this,$3,'desc',$$);\n\t\t\n\t}\n\tconstructor(){\n\t\tsuper(...arguments);\n\t\tsuper[$__init__$] || this[$__init__$]();this[$__initor__$]===$5 && (this[$__hooks__$]&&this[$__hooks__$].inited(this),this[$__inited__$] && this[$__inited__$]());\n\t}\n\t[$__init__$]($$ = null,deep = true,fields = true){\n\t\tdeep && super[$__init__$] && super[$__init__$](...arguments);\n\t\tfields && this.ααname.$init($$ ? $$.name : undefined,this,$1,'name',$$);\n\t\tfields && this.ααdesc.$init($$ ? $$.desc : undefined,this,$3,'desc',$$);\n\t\t\n\t}\n\tset name(val){ this.ααname.$set(val,this,$1,'name') }\n\tget name(){ return this.ααname.$get(this,$1,'name') }\n\tget ααname(){ return this[$2] || imba_accessor(($7 = this.αstring(),$7),this,$1,'name',$2,Item.prototype) }\n\tset desc(val){ this.ααdesc.$set(val,this,$3,'desc') }\n\tget desc(){ return this.ααdesc.$get(this,$3,'desc') }\n\tget ααdesc(){ return this[$4] || imba_accessor(($8 = this.αstring(),$8),this,$3,'desc',$4,Item.prototype) }\n\tstatic {\n\t\tthis.prototype[$__initor__$] = $5;defineName$__(this,'Item');inheritClass$__(this);}\n};\n\nawait setup(__filename,{\n\tdata: [\n\t\t{id: 'item01',name: 'one',desc: 'first'},\n\t\t{id: 'item02',name: 'two',desc: 'second'}\n\t]\n});\n\ntest(\"find item 1\",async function() {\n\t\n\tlet item;\n\t\n\titem = await Item.find({name: 'one'});\n\tok(item.id,'item01');\n\t\n\titem = await Item.find({desc: 'first'});\n\tok(item.id,'item01');\n\t\n\titem = await Item.find({name: 'one',desc: 'first'});\n\tok(item.id,'item01');\n\t\n\titem = await Item.find({name: 'one',desc: 'second'});\n\treturn ok(item,null);\n});\n\ntest(\"find item 2\",async function() {\n\t\n\tlet item;\n\t\n\titem = await Item.find({name: 'two'});\n\tok(item.id,'item02');\n\t\n\titem = await Item.find({desc: 'second'});\n\tok(item.id,'item02');\n\t\n\titem = await Item.find({name: 'two',desc: 'second'});\n\tok(item.id,'item02');\n\t\n\titem = await Item.find({name: 'two',desc: 'first'});\n\treturn ok(item,null);\n});\n","dependencies":[],"map":{"version":3,"file":"find.test.js","sourceRoot":"","sources":["/Users/sindre/repos/scrimba/op/test/find.test.imba"],"sourcesContent":["import setup from './setup'\n\nclass Item < OP.Object\n\tname @string\n\tdesc @string\n\nawait setup __filename, {\n\tdata: [\n\t\t{id: 'item01', name:'one', desc:'first'}\n\t\t{id: 'item02', name:'two', desc:'second'}\n\t]\n}\n\ntest \"find item 1\" do\n\tlet item\n\n\titem = await Item.find(name:'one')\n\tok item.id, 'item01'\n\n\titem = await Item.find(desc:'first')\n\tok item.id, 'item01'\n\n\titem = await Item.find(name:'one',desc:'first')\n\tok item.id, 'item01'\n\n\titem = await Item.find(name:'one',desc:'second')\n\tok item, null\n\ntest \"find item 2\" do\n\tlet item\n\n\titem = await Item.find(name:'two')\n\tok item.id, 'item02'\n\n\titem = await Item.find(desc:'second')\n\tok item.id, 'item02'\n\n\titem = await Item.find(name:'two',desc:'second')\n\tok item.id, 'item02'\n\n\titem = await Item.find(name:'two',desc:'first')\n\tok item, null\n"],"names":[],"mappings":";;;;;;;;;;;AAAA,MAAM,CAAC,KAAK,MAAM,SAAS;;AAE3B,KAAK,CAAC,IAAI,SAAG,EAAE,CAAC,MAAM,EAAA;qCAFtB;;;qBAGC,IAAI,CAAA;qBACJ,IAAI,CAAA;;EAJL;cAAA;;;EAAA;kDAAA;;sCAGC,IAAI;sCACJ,IAAI;;EAJL;KAGC,IAAI;KAAJ,IAAI;KAAJ,MAAI,gDAAC,OAAO,EAAA,uBADP,IAAI;KAET,IAAI;KAAJ,IAAI;KAAJ,MAAI,gDAAC,OAAO,EAAA,uBAFP,IAAI;;;AAEG,CAAA;;MAEP,KAAK,CAAC,UAAU,CAAE;CACvB,IAAI,EAAE,CACL;EAAA,CAAC,EAAE,EAAE,QAAQ,CAAE,IAAI,EAAC,KAAK,CAAE,IAAI,EAAC,OAAO,CAAC;EACxC,CAAC,EAAE,EAAE,QAAQ,CAAE,IAAI,EAAC,KAAK,CAAE,IAAI,EAAC,QAAQ,CAAC;CAAA,CACzC;CACD,CAAA;;AAED,IAAI,CAAC,aAAa,CAAC,cAAE,GAAA;;KAChB,IAAI;;CAER,IAAI,SAAS,IAAI,CAAC,IAAI,EAAC,IAAI,EAAC,KAAK,EAAC;CAClC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAE,QAAQ,CAAA;;CAEpB,IAAI,SAAS,IAAI,CAAC,IAAI,EAAC,IAAI,EAAC,OAAO,EAAC;CACpC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAE,QAAQ,CAAA;;CAEpB,IAAI,SAAS,IAAI,CAAC,IAAI,EAAC,IAAI,EAAC,KAAK,CAAC,IAAI,EAAC,OAAO,EAAC;CAC/C,EAAE,CAAC,IAAI,CAAC,EAAE,CAAE,QAAQ,CAAA;;CAEpB,IAAI,SAAS,IAAI,CAAC,IAAI,EAAC,IAAI,EAAC,KAAK,CAAC,IAAI,EAAC,QAAQ,EAAC;CAChD,OAAA,EAAE,CAAC,IAAI,CAAE,IAAI,CAAA;CAAA,CAbV;;AAeJ,IAAI,CAAC,aAAa,CAAC,cAAE,GAAA;;KAChB,IAAI;;CAER,IAAI,SAAS,IAAI,CAAC,IAAI,EAAC,IAAI,EAAC,KAAK,EAAC;CAClC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAE,QAAQ,CAAA;;CAEpB,IAAI,SAAS,IAAI,CAAC,IAAI,EAAC,IAAI,EAAC,QAAQ,EAAC;CACrC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAE,QAAQ,CAAA;;CAEpB,IAAI,SAAS,IAAI,CAAC,IAAI,EAAC,IAAI,EAAC,KAAK,CAAC,IAAI,EAAC,QAAQ,EAAC;CAChD,EAAE,CAAC,IAAI,CAAC,EAAE,CAAE,QAAQ,CAAA;;CAEpB,IAAI,SAAS,IAAI,CAAC,IAAI,EAAC,IAAI,EAAC,KAAK,CAAC,IAAI,EAAC,OAAO,EAAC;CAC/C,OAAA,EAAE,CAAC,IAAI,CAAE,IAAI,CAAA;CAAA,CAbV;AAcJ;"}},"css":{"code":""},"warnings":[],"errors":[]}
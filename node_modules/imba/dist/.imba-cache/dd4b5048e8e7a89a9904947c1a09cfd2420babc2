{"js":{"code":"function defineName$__(cls,name){\n\tObject.defineProperty(cls,\"name\",{value:name,configurable:true});\n};;\nfunction inheritClass$__(cls){\n\tObject.getPrototypeOf(cls.prototype).constructor?.inherited?.(cls);\n};\nimport {accessor as imba_accessor} from 'imba';\nvar $1 = Symbol('id'), $2 = Symbol(), $3 = Symbol('secret'), $4 = Symbol(), $5 = Symbol('session'), $6 = Symbol(), $7 = Symbol('port'), $8 = Symbol(), $9 = Symbol('upgrade'), $10 = Symbol(), $11 = Symbol('put'), $12 = Symbol(), $13 = Symbol(), $15, $16, $17, $18, $19, $20;\nconst $__init__$ = Symbol.for('#__init__'), $__patch__$ = Symbol.for('#__patch__'), $__initor__$ = Symbol.for('#__initor__'), $__inited__$ = Symbol.for('#__inited__'), $__hooks__$ = Symbol.for('#__hooks__');\n\n/*body*/\nexport class OPClient extends OPObject {\n\t[$__patch__$]($$ = {},fields = true){\n\t\tvar $14;\n\t\tsuper[$__patch__$] && super[$__patch__$]($$,fields);\n\t\tfields && ($14 = $$.id) !== undefined && this.ααid.$init($14,this,$1,'id',$$);\n\t\tfields && ($14 = $$.secret) !== undefined && this.ααsecret.$init($14,this,$3,'secret',$$);\n\t\tfields && ($14 = $$.session) !== undefined && this.ααsession.$init($14,this,$5,'session',$$);\n\t\tfields && ($14 = $$.port) !== undefined && this.ααport.$init($14,this,$7,'port',$$);\n\t\tfields && ($14 = $$.upgrade) !== undefined && this.ααupgrade.$init($14,this,$9,'upgrade',$$);\n\t\tfields && ($14 = $$.put) !== undefined && this.ααput.$init($14,this,$11,'put',$$);\n\t\t\n\t}\n\tconstructor(){\n\t\tsuper(...arguments);\n\t\tsuper[$__init__$] || this[$__init__$]();this[$__initor__$]===$13 && (this[$__hooks__$]&&this[$__hooks__$].inited(this),this[$__inited__$] && this[$__inited__$]());\n\t}\n\t[$__init__$]($$ = null,deep = true,fields = true){\n\t\tdeep && super[$__init__$] && super[$__init__$](...arguments);\n\t\tfields && this.ααid.$init($$ ? $$.id : undefined,this,$1,'id',$$);\n\t\tfields && this.ααsecret.$init($$ ? $$.secret : undefined,this,$3,'secret',$$);\n\t\tfields && this.ααsession.$init($$ ? $$.session : undefined,this,$5,'session',$$);\n\t\tfields && this.ααport.$init($$ ? $$.port : undefined,this,$7,'port',$$);\n\t\tfields && this.ααupgrade.$init($$ ? $$.upgrade : undefined,this,$9,'upgrade',$$);\n\t\tfields && this.ααput.$init($$ ? $$.put : undefined,this,$11,'put',$$);\n\t\t\n\t}\n\tset id(val){ this.ααid.$set(val,this,$1,'id') }\n\tget id(){ return this.ααid.$get(this,$1,'id') }\n\tget ααid(){ return this[$2] || imba_accessor(($15 = this.αkey(this.ααsession,this.ααport),$15),this,$1,'id',$2,OPClient.prototype) }\n\tset secret(val){ this.ααsecret.$set(val,this,$3,'secret') }\n\tget secret(){ return this.ααsecret.$get(this,$3,'secret') }\n\tget ααsecret(){ return this[$4] || imba_accessor(($16 = this.αstring(),$16.default = function() {\n\t\treturn 'blabla';\n\t},$16.default.literal = 'blabla',$16),this,$3,'secret',$4,OPClient.prototype) }\n\tset session(val){ this.ααsession.$set(val,this,$5,'session') }\n\tget session(){ return this.ααsession.$get(this,$5,'session') }\n\tget ααsession(){ return this[$6] || imba_accessor(($17 = this.αparent(OP.Session),($17.foreign instanceof Function) ? $17.foreign() : ($17.foreign = true),$17),this,$5,'session',$6,OPClient.prototype) }\n\tset port(val){ this.ααport.$set(val,this,$7,'port') }\n\tget port(){ return this.ααport.$get(this,$7,'port') }\n\tget ααport(){ return this[$8] || imba_accessor(($18 = this.αnumber(),$18),this,$7,'port',$8,OPClient.prototype) }\n\t\n\tset upgrade(val){ this.ααupgrade.$set(val,this,$9,'upgrade') }\n\tget upgrade(){ return this.ααupgrade.$get(this,$9,'upgrade') }\n\tget ααupgrade(){ return this[$10] || imba_accessor(($19 = this.αrpc(),$19.callback = function() {\n\t\t\n\t\treturn this.log(\"upgraded client!!!\");\n\t},$19),this,$9,'upgrade',$10,OPClient.prototype) }\n\t\n\tset put(val){ this.ααput.$set(val,this,$11,'put') }\n\tget put(){ return this.ααput.$get(this,$11,'put') }\n\tget ααput(){ return this[$12] || imba_accessor(($20 = this.αrpc(),$20.callback = function(data) {\n\t\t\n\t\treturn;\n\t},$20),this,$11,'put',$12,OPClient.prototype) }\n\t\n\tget user(){\n\t\t\n\t\treturn this.session?.user;\n\t}\n\tstatic {\n\t\tthis.prototype[$__initor__$] = $13;defineName$__(this,'OPClient');this.alias = 'CL';\n\t\tinheritClass$__(this);}\n}; globalThis.OPClient = OPClient;\n","dependencies":[],"map":{"version":3,"file":"client.js","sourceRoot":"","sources":["/Users/sindre/repos/scrimba/op/src/types/client.imba"],"sourcesContent":["export global class OPClient < OPObject\n\tstatic alias = 'CL'\n\n\tid @key(@@session,@@port)\n\tsecret @string = 'blabla'\n\tsession @parent(OP.Session).foreign\n\tport @number\n\n\tupgrade @rpc do\n\t\tlog \"upgraded client!!!\"\n\n\tput @rpc do(data)\n\t\treturn\n\n\tget user\n\t\tsession..user"],"names":[],"mappings":";;;;;;;;;;;AAAA,MAAM,CAAQ,KAAK,CAAC,QAAQ,SAAG,QAAQ,EAAA;qCAAvC;;;sBAGC,EAAE,CAAA;sBACF,MAAM,CAAA;sBACN,OAAO,CAAA;sBACP,IAAI,CAAA;sBAEJ,OAAO,CAAA;sBAGP,GAAG,CAAA;;EAXJ;cAAA;;;EAAA;kDAAA;;oCAGC,EAAE;wCACF,MAAM;yCACN,OAAO;sCACP,IAAI;yCAEJ,OAAO;qCAGP,GAAG;;EAXJ;KAGC,EAAE;KAAF,EAAE;KAAF,IAAE,iDAAC,IAAI,CAAC,KAAA,SAAS,CAAC,KAAA,MAAM,CAAC,sBAHN,QAAQ;KAI3B,MAAM;KAAN,MAAM;KAAN,QAAM,iDAAC,OAAO,EAAA,0BAJf;EAIkB,OAAA,QAAQ;EAJ1B,uBAIkB,QAAQ,0BAJN,QAAQ;KAK3B,OAAO;KAAP,OAAO;KAAP,SAAO,iDAAC,OAAO,CAAC,EAAE,CAAC,OAAO,CAAC,MAAC,OAAO,4BAAP,OAAO,EAAA,QAAP,OAAO,mCALhB,QAAQ;KAM3B,IAAI;KAAJ,IAAI;KAAJ,MAAI,iDAAC,OAAO,EAAA,wBANO,QAAQ;;KAQ3B,OAAO;KAAP,OAAO;KAAP,SAAO,kDAAC,IAAI,EAAA,gBAAC,QAAE,GAAA;;SACd,KAAA,GAAG,CAAC,oBAAoB,CAAA;EAAA,4BATN,QAAQ;;KAW3B,GAAG;KAAH,GAAG;KAAH,KAAG,kDAAC,IAAI,EAAA,gBAAC,QAAE,CAAC,IAAI,EAAC;;EAChB,MAAM;EAAA,yBAZY,QAAQ;;CAc3B,GAAG,CAAC,IAAI,EAAA;;EACP,OAAA,KAAA,OAAO,EAAE,IAAI;EAAA;;yEAdP,KAAK,GAAG,IAAI;;AAcL,cAfK,QAAQ,GAAR,QAAQ;AAeb;"}},"css":{"code":""},"warnings":[],"errors":[]}
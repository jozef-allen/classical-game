{"js":{"code":"function defineName$__(cls,name){\n\tObject.defineProperty(cls,\"name\",{value:name,configurable:true});\n};;\nfunction inheritClass$__(cls){\n\tObject.getPrototypeOf(cls.prototype).constructor?.inherited?.(cls);\n};;\nfunction extend$__(target,ext){\n\t// @ts-ignore\n\tconst descriptors = Object.getOwnPropertyDescriptors(ext);\n\tdelete descriptors.constructor;\n\tif(target.extend__ instanceof Function){\n\t\ttarget.extend__(descriptors,ext);\n\t} else {\n\t\t// @ts-ignore\n\t\tObject.defineProperties(target,descriptors);\n\t}\n\treturn target;\n};\nconst $__init__$ = Symbol.for('#__init__'), $__patch__$ = Symbol.for('#__patch__'), $__initor__$ = Symbol.for('#__initor__'), $__inited__$ = Symbol.for('#__inited__'), $__hooks__$ = Symbol.for('#__hooks__');\nvar $1 = Symbol();\n\n/*body*/\nimport './any';\n\nexport class OPTextField extends OPPlainField {\n\t[$__patch__$]($$ = {},fields = true){\n\t\tvar $2;\n\t\tsuper[$__patch__$] && super[$__patch__$]($$,fields);\n\t\t($2 = $$.pgtype) !== undefined && (this.pgtype = $2);\n\t\t\n\t}\n\tconstructor(){\n\t\tsuper(...arguments);\n\t\tsuper[$__init__$] || this[$__init__$]();this[$__initor__$]===$1 && (this[$__hooks__$]&&this[$__hooks__$].inited(this),this[$__inited__$] && this[$__inited__$]());\n\t}\n\t[$__init__$]($$ = null,deep = true,fields = true){\n\t\tvar $3;\n\t\tdeep && super[$__init__$] && super[$__init__$](...arguments);\n\t\tthis.pgtype = ($$ && ($3 = $$.pgtype) !== undefined) ? ($3) : 'text';\n\t\t\n\t}\n\tget valuetype(){\n\t\t\n\t\treturn String;\n\t}\n\t\n\t// declare def $get\\string do ''\n\t// def $get target\n\t// target.$plain[name]\n\t\n\t$patch(value,target,all){\n\t\t\n\t\treturn;\n\t}\n\tstatic {\n\t\tthis.prototype[$__initor__$] = $1;defineName$__(this,'OPTextField');inheritClass$__(this);}\n}; globalThis.OPTextField = OPTextField;\n\nexport class OPStringField extends OPTextField {\n\t\n\t$sanitize(val){\n\t\t\n\t\treturn (val != null && typeof val !== 'string') ? String(val) : val;\n\t}\n\tstatic {\n\t\tdefineName$__(this,'OPStringField');inheritClass$__(this);}\n}; globalThis.OPStringField = OPStringField;\n\nexport class OPEmailField extends OPTextField {\n\t[$__patch__$]($$ = {},fields = true){\n\t\tvar $4;\n\t\tsuper[$__patch__$] && super[$__patch__$]($$,fields);\n\t\t($4 = $$.pgtype) !== undefined && (this.pgtype = $4);\n\t\t($4 = $$.pattern) !== undefined && (this.pattern = $4);\n\t\t\n\t}\n\t[$__init__$]($$ = null,deep = true,fields = true){\n\t\tvar $5;\n\t\tdeep && super[$__init__$] && super[$__init__$](...arguments);\n\t\tthis.pgtype = ($$ && ($5 = $$.pgtype) !== undefined) ? ($5) : 'opemail';\n\t\tthis.pattern = ($$ && ($5 = $$.pattern) !== undefined) ? ($5) : /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;\n\t\t\n\t}\n\tstatic {\n\t\tdefineName$__(this,'OPEmailField');inheritClass$__(this);}\n}; globalThis.OPEmailField = OPEmailField;\n\nclass ΩOPObject {\n\t\n\t\n\tαtext(){\n\t\t\n\t\treturn new OPTextField;\n\t}\n\t\n\tαstring(){\n\t\t\n\t\treturn new OPStringField;\n\t}\n\t\n\tαemail(){\n\t\t\n\t\treturn new OPEmailField;\n\t}\n\tstatic {\n\t\tdefineName$__(this,'OPObject');}\n};\nextend$__(OPObject.prototype,ΩOPObject.prototype);\n;\n","dependencies":[],"map":{"version":3,"file":"text.js","sourceRoot":"","sources":["/Users/sindre/repos/scrimba/op/src/fields/text.imba"],"sourcesContent":["import './any'\n\nexport global class OPTextField < OPPlainField\n\tpgtype = 'text'\n\n\tget valuetype\n\t\tString\n\n\t# declare def $get\\string do ''\n\t# def $get target\n\t#\ttarget.$plain[name]\n\n\tdef $patch value,target,all\n\t\treturn\n\nexport global class OPStringField < OPTextField\n\tdeclare def $get\\string do ''\n\n\tdef $sanitize val\n\t\tval != null and typeof val isnt 'string' ? String(val) : val\n\nexport global class OPEmailField < OPTextField\n\tpgtype = 'opemail'\n\tpattern = /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/\n\nextend class OPObject\n\n\tdef @text\n\t\tnew OPTextField\n\n\tdef @string\n\t\tnew OPStringField\n\n\tdef @email\n\t\tnew OPEmailField\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAAA,MAAM,CAAC,OAAO;;AAEd,MAAM,CAAQ,KAAK,CAAC,WAAW,SAAG,YAAY,EAAA;qCAF9C;;;WAGC,MAAM,CAAA,wBAAN,MAAM;;EAHP;cAAA;;;EAAA;kDAAA;;;OAGC,MAAM,mBAAN,MAAM,CAAA,qBAAA,IAAG,MAAM;;EAHhB;CAKC,GAAG,CAAC,SAAS,EAAA;;EACZ,OAAA,MAAM;EAAA;;;;;;CAMH,MAAM,CAAC,KAAK,CAAC,MAAM,CAAC,GAAG,CAAA;;EAC1B,MAAM;EAAA;;;AAAA,cAXY,WAAW,GAAX,WAAW;;AAa/B,MAAM,CAAQ,KAAK,CAAC,aAAa,SAAG,WAAW,EAAA;;CAG1C,SAAS,CAAC,GAAG,CAAA;;SAChB,CAAA,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAG,CAAC,OAAO,GAAG,CAAC,GAAI,CAAC,QAAQ,CAAA,GAAG,MAAM,CAAC,GAAG,CAAC,GAAG,GAAG;EAAA;;;AAAA,cAJ1C,aAAa,GAAb,aAAa;;AAMjC,MAAM,CAAQ,KAAK,CAAC,YAAY,SAAG,WAAW,EAAA;qCArB9C;;;WAsBC,MAAM,CAAA,wBAAN,MAAM;WACN,OAAO,CAAA,wBAAP,OAAO;;EAvBR;kDAAA;;;OAsBC,MAAM,mBAAN,MAAM,CAAA,qBAAA,IAAG,SAAS;OAClB,OAAO,mBAAP,OAAO,CAAA,qBAAA,IAAG,sIAAsI;;EAvBjJ;;;AAuBiJ,cAF7H,YAAY,GAAZ,YAAY;;AAIzB,KAAK,CAAC,SAAQ,EAAA;;;CAEhB,KAAK,EAAA;;EACR,OAAA,GAAG,CAAC,WAAW;EAAA;;CAEZ,OAAO,EAAA;;EACV,OAAA,GAAG,CAAC,aAAa;EAAA;;CAEd,MAAM,EAAA;;EACT,OAAA,GAAG,CAAC,YAAY;EAAA;;;AAAA;UATL,QAAQ;AASH;AAClB;"}},"css":{"code":""},"warnings":[],"errors":[]}
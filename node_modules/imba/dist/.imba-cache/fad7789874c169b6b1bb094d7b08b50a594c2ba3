{"js":{"code":"function defineName$__(cls,name){\n\tObject.defineProperty(cls,\"name\",{value:name,configurable:true});\n};;\nfunction inheritClass$__(cls){\n\tObject.getPrototypeOf(cls.prototype).constructor?.inherited?.(cls);\n};\nimport {accessor as imba_accessor} from 'imba';\nvar $1 = Symbol('owner'), $2 = Symbol(), $3 = Symbol('member'), $4 = Symbol(), $5 = Symbol('a'), $6 = Symbol(), $7 = Symbol('b'), $8 = Symbol(), $9 = Symbol('c'), $10 = Symbol(), $11 = Symbol('d'), $12 = Symbol(), $13 = Symbol(), $15, $16, $17, $18, $19, $20;\nconst $__init__$ = Symbol.for('#__init__'), $__patch__$ = Symbol.for('#__patch__'), $__initor__$ = Symbol.for('#__initor__'), $__inited__$ = Symbol.for('#__inited__'), $__hooks__$ = Symbol.for('#__hooks__');\n\n/*body*/\nimport setup from './setup';\n\nclass User extends OP.User {\nstatic {\n\tdefineName$__(this,'User');inheritClass$__(this);}};\n\nclass Item extends OP.Object {\n\t[$__patch__$]($$ = {},fields = true){\n\t\tvar $14;\n\t\tsuper[$__patch__$] && super[$__patch__$]($$,fields);\n\t\tfields && ($14 = $$.owner) !== undefined && this.ααowner.$init($14,this,$1,'owner',$$);\n\t\tfields && ($14 = $$.member) !== undefined && this.ααmember.$init($14,this,$3,'member',$$);\n\t\tfields && ($14 = $$.a) !== undefined && this.ααa.$init($14,this,$5,'a',$$);\n\t\tfields && ($14 = $$.b) !== undefined && this.ααb.$init($14,this,$7,'b',$$);\n\t\tfields && ($14 = $$.c) !== undefined && this.ααc.$init($14,this,$9,'c',$$);\n\t\tfields && ($14 = $$.d) !== undefined && this.ααd.$init($14,this,$11,'d',$$);\n\t\t\n\t}\n\tconstructor(){\n\t\tsuper(...arguments);\n\t\tsuper[$__init__$] || this[$__init__$]();this[$__initor__$]===$13 && (this[$__hooks__$]&&this[$__hooks__$].inited(this),this[$__inited__$] && this[$__inited__$]());\n\t}\n\t[$__init__$]($$ = null,deep = true,fields = true){\n\t\tdeep && super[$__init__$] && super[$__init__$](...arguments);\n\t\tfields && this.ααowner.$init($$ ? $$.owner : undefined,this,$1,'owner',$$);\n\t\tfields && this.ααmember.$init($$ ? $$.member : undefined,this,$3,'member',$$);\n\t\tfields && this.ααa.$init($$ ? $$.a : undefined,this,$5,'a',$$);\n\t\tfields && this.ααb.$init($$ ? $$.b : undefined,this,$7,'b',$$);\n\t\tfields && this.ααc.$init($$ ? $$.c : undefined,this,$9,'c',$$);\n\t\tfields && this.ααd.$init($$ ? $$.d : undefined,this,$11,'d',$$);\n\t\t\n\t}\n\tset owner(val){ this.ααowner.$set(val,this,$1,'owner') }\n\tget owner(){ return this.ααowner.$get(this,$1,'owner') }\n\tget ααowner(){ return this[$2] || imba_accessor(($15 = this.αref(User),($15.as instanceof Function) ? $15.as(OP.OWNER) : ($15.as = OP.OWNER),$15),this,$1,'owner',$2,Item.prototype) }\n\tset member(val){ this.ααmember.$set(val,this,$3,'member') }\n\tget member(){ return this.ααmember.$get(this,$3,'member') }\n\tget ααmember(){ return this[$4] || imba_accessor(($16 = this.αref(User),($16.as instanceof Function) ? $16.as(OP.MEMBER) : ($16.as = OP.MEMBER),$16),this,$3,'member',$4,Item.prototype) }\n\tset a(val){ this.ααa.$set(val,this,$5,'a') }\n\tget a(){ return this.ααa.$get(this,$5,'a') }\n\tget ααa(){ return this[$6] || imba_accessor(($17 = this.αstring(),$17),this,$5,'a',$6,Item.prototype) }\n\tset b(val){ this.ααb.$set(val,this,$7,'b') }\n\tget b(){ return this.ααb.$get(this,$7,'b') }\n\tget ααb(){ return this[$8] || imba_accessor(($18 = this.αstring(),($18.r instanceof Function) ? $18.r(OP.OWNER) : ($18.r = OP.OWNER),$18),this,$7,'b',$8,Item.prototype) }\n\tset c(val){ this.ααc.$set(val,this,$9,'c') }\n\tget c(){ return this.ααc.$get(this,$9,'c') }\n\tget ααc(){ return this[$10] || imba_accessor(($19 = this.αstring(),($19.w instanceof Function) ? $19.w(OP.OWNER) : ($19.w = OP.OWNER),$19),this,$9,'c',$10,Item.prototype) }\n\tset d(val){ this.ααd.$set(val,this,$11,'d') }\n\tget d(){ return this.ααd.$get(this,$11,'d') }\n\tget ααd(){ return this[$12] || imba_accessor(($20 = this.αstring(),($20.rw instanceof Function) ? $20.rw(OP.OWNER) : ($20.rw = OP.OWNER),$20),this,$11,'d',$12,Item.prototype) }\n\tstatic {\n\t\tthis.prototype[$__initor__$] = $13;defineName$__(this,'Item');inheritClass$__(this);}\n};\n\nawait setup(__filename,{\n\tdata: [\n\t\t{id: 'user01'},\n\t\t{id: 'user02'},\n\t\t{id: 'item01',owner: 'user01',member: 'user02',a: 'a',b: 'b',c: 'c',d: 'd'}\n\t]\n});\n\nlet owner = await OP.get('user01');\nlet member = await OP.get('user02');\nlet item = await OP.get('item01');\n\ntest(\"basic\",function() {\n\t\n\treturn null;\n});\n","dependencies":[],"map":{"version":3,"file":"permissions.test.js","sourceRoot":"","sources":["/Users/sindre/repos/scrimba/op/test/permissions.test.imba"],"sourcesContent":["import setup from './setup'\n\nclass User < OP.User\n\nclass Item < OP.Object\n\towner @ref(User).as(OP.OWNER)\n\tmember @ref(User).as(OP.MEMBER)\n\ta @string\n\tb @string.r(OP.OWNER)\n\tc @string.w(OP.OWNER)\n\td @string.rw(OP.OWNER)\n\nawait setup __filename, {\n\tdata: [\n\t\t{id: 'user01'}\n\t\t{id: 'user02'}\n\t\t{id: 'item01', owner: 'user01', member: 'user02', a:'a', b:'b', c:'c', d:'d'}\n\t]\n}\n\nlet owner = await OP.get 'user01'\nlet member = await OP.get 'user02'\nlet item = await OP.get 'item01'\n\ntest \"basic\" do\n\tnull\n"],"names":[],"mappings":";;;;;;;;;;;AAAA,MAAM,CAAC,KAAK,MAAM,SAAS;;AAE3B,KAAK,CAAC,IAAI,SAAG,EAAE,CAAC,IAAI;;;;AAEpB,KAAK,CAAC,IAAI,SAAG,EAAE,CAAC,MAAM,EAAA;qCAJtB;;;sBAKC,KAAK,CAAA;sBACL,MAAM,CAAA;sBACN,CAAC,CAAA;sBACD,CAAC,CAAA;sBACD,CAAC,CAAA;sBACD,CAAC,CAAA;;EAVF;cAAA;;;EAAA;kDAAA;;uCAKC,KAAK;wCACL,MAAM;mCACN,CAAC;mCACD,CAAC;mCACD,CAAC;mCACD,CAAC;;EAVF;KAKC,KAAK;KAAL,KAAK;KAAL,OAAK,iDAAC,IAAI,CAAC,IAAI,CAAC,MAAC,EAAE,4BAAF,EAAE,CAAC,EAAE,CAAC,KAAK,CAAC,QAAZ,EAAE,GAAC,EAAE,CAAC,KAAK,0BADvB,IAAI;KAET,MAAM;KAAN,MAAM;KAAN,QAAM,iDAAC,IAAI,CAAC,IAAI,CAAC,MAAC,EAAE,4BAAF,EAAE,CAAC,EAAE,CAAC,MAAM,CAAC,QAAb,EAAE,GAAC,EAAE,CAAC,MAAM,2BAFzB,IAAI;KAGT,CAAC;KAAD,CAAC;KAAD,GAAC,iDAAC,OAAO,EAAA,qBAHJ,IAAI;KAIT,CAAC;KAAD,CAAC;KAAD,GAAC,iDAAC,OAAO,EAAA,MAAC,CAAC,4BAAD,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,QAAX,CAAC,GAAC,EAAE,CAAC,KAAK,sBAJf,IAAI;KAKT,CAAC;KAAD,CAAC;KAAD,GAAC,kDAAC,OAAO,EAAA,MAAC,CAAC,4BAAD,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,QAAX,CAAC,GAAC,EAAE,CAAC,KAAK,uBALf,IAAI;KAMT,CAAC;KAAD,CAAC;KAAD,GAAC,kDAAC,OAAO,EAAA,MAAC,EAAE,4BAAF,EAAE,CAAC,EAAE,CAAC,KAAK,CAAC,QAAZ,EAAE,GAAC,EAAE,CAAC,KAAK,wBANhB,IAAI;;;AAMa,CAAA;;MAEjB,KAAK,CAAC,UAAU,CAAE;CACvB,IAAI,EAAE,CACL;EAAA,CAAC,EAAE,EAAE,QAAQ,CAAC;EACd,CAAC,EAAE,EAAE,QAAQ,CAAC;EACd,CAAC,EAAE,EAAE,QAAQ,CAAE,KAAK,EAAE,QAAQ,CAAE,MAAM,EAAE,QAAQ,CAAE,CAAC,EAAC,GAAG,CAAE,CAAC,EAAC,GAAG,CAAE,CAAC,EAAC,GAAG,CAAE,CAAC,EAAC,GAAG,CAAC;CAAA,CAC7E;CACD,CAAA;;IAEG,KAAK,SAAS,EAAE,CAAC,GAAG,CAAC,QAAQ,CAAA;IAC7B,MAAM,SAAS,EAAE,CAAC,GAAG,CAAC,QAAQ,CAAA;IAC9B,IAAI,SAAS,EAAE,CAAC,GAAG,CAAC,QAAQ,CAAA;;AAEhC,IAAI,CAAC,OAAO,CAAC,QAAE,GAAA;;CACd,OAAA,IAAI;CAAA,CADD;AAEJ;"}},"css":{"code":""},"warnings":[],"errors":[]}
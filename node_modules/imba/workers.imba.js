var de=Object.create;var D=Object.defineProperty;var he=Object.getOwnPropertyDescriptor;var me=Object.getOwnPropertyNames;var ke=Object.getPrototypeOf,we=Object.prototype.hasOwnProperty;var l=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var ye=(e,t,r,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of me(t))!we.call(e,n)&&n!==r&&D(e,n,{get:()=>t[n],enumerable:!(o=he(t,n))||o.enumerable});return e};var _e=(e,t,r)=>(r=e!=null?de(ke(e)):{},ye(t||!e||!e.__esModule?D(r,"default",{value:e,enumerable:!0}):r,e));var W=l((exports,module)=>{var requireFoolWebpack=eval(`typeof require !== 'undefined' ? require : function (module) { throw new Error('Module " + module + " not found.') }`);module.exports=requireFoolWebpack});var v=l((Le,h)=>{var C=W(),N=function(e){return typeof e<"u"&&e.versions!=null&&e.versions.node!=null};h.exports.isNode=N;h.exports.platform=typeof process<"u"&&N(process)?"node":"browser";var F=ve("worker_threads");h.exports.isMainThread=h.exports.platform==="node"?(!F||F.isMainThread)&&!process.connected:typeof Window<"u";h.exports.cpus=h.exports.platform==="browser"?self.navigator.hardwareConcurrency:C("os").cpus().length;function ve(e){try{return C(e)}catch{return null}}});var x=l((Fe,z)=>{"use strict";function f(e,t){var r=this;if(!(this instanceof f))throw new SyntaxError("Constructor must be called with the new operator");if(typeof e!="function")throw new SyntaxError("Function parameter handler(resolve, reject) missing");var o=[],n=[];this.resolved=!1,this.rejected=!1,this.pending=!0;var s=function(u,a){o.push(u),n.push(a)};this.then=function(u,a){return new f(function(k,O){var pe=u?U(u,k,O):k,le=a?U(a,k,O):O;s(pe,le)},r)};var c=function(u){return r.resolved=!0,r.rejected=!1,r.pending=!1,o.forEach(function(a){a(u)}),s=function(a,k){a(u)},c=i=function(){},r},i=function(u){return r.resolved=!1,r.rejected=!0,r.pending=!1,n.forEach(function(a){a(u)}),s=function(a,k){k(u)},c=i=function(){},r};this.cancel=function(){return t?t.cancel():i(new _),r},this.timeout=function(u){if(t)t.timeout(u);else{var a=setTimeout(function(){i(new g("Promise timed out after "+u+" ms"))},u);r.always(function(){clearTimeout(a)})}return r},e(function(u){c(u)},function(u){i(u)})}function U(e,t,r){return function(o){try{var n=e(o);n&&typeof n.then=="function"&&typeof n.catch=="function"?n.then(t,r):t(n)}catch(s){r(s)}}}f.prototype.catch=function(e){return this.then(null,e)};f.prototype.always=function(e){return this.then(e,e)};f.all=function(e){return new f(function(t,r){var o=e.length,n=[];o?e.forEach(function(s,c){s.then(function(i){n[c]=i,o--,o==0&&t(n)},function(i){o=0,r(i)})}):t(n)})};f.defer=function(){var e={};return e.promise=new f(function(t,r){e.resolve=t,e.reject=r}),e};function _(e){this.message=e||"promise cancelled",this.stack=new Error().stack}_.prototype=new Error;_.prototype.constructor=Error;_.prototype.name="CancellationError";f.CancellationError=_;function g(e){this.message=e||"timeout exceeded",this.stack=new Error().stack}g.prototype=new Error;g.prototype.constructor=Error;g.prototype.name="TimeoutError";f.TimeoutError=g;z.exports=f});var Q=l((Ce,B)=>{B.exports=`!function(){var __webpack_modules__={577:function(e){e.exports=function(e,r){this.message=e,this.transfer=r}}},__webpack_module_cache__={};function __webpack_require__(e){var r=__webpack_module_cache__[e];return void 0!==r||(r=__webpack_module_cache__[e]={exports:{}},__webpack_modules__[e](r,r.exports,__webpack_require__)),r.exports}var __webpack_exports__={};!function(){var exports=__webpack_exports__,__webpack_unused_export__;function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Transfer=__webpack_require__(577),requireFoolWebpack=eval("typeof require !== 'undefined' ? require : function (module) { throw new Error('Module \\" + module + \\" not found.') }"),TERMINATE_METHOD_ID="__workerpool-terminate__",worker={exit:function(){}},WorkerThreads,parentPort;if("undefined"!=typeof self&&"function"==typeof postMessage&&"function"==typeof addEventListener)worker.on=function(e,r){addEventListener(e,function(e){r(e.data)})},worker.send=function(e){postMessage(e)};else{if("undefined"==typeof process)throw new Error("Script must be executed as a worker");try{WorkerThreads=requireFoolWebpack("worker_threads")}catch(error){if("object"!==_typeof(error)||null===error||"MODULE_NOT_FOUND"!==error.code)throw error}WorkerThreads&&null!==WorkerThreads.parentPort?(parentPort=WorkerThreads.parentPort,worker.send=parentPort.postMessage.bind(parentPort),worker.on=parentPort.on.bind(parentPort)):(worker.on=process.on.bind(process),worker.send=function(e){process.send(e)},worker.on("disconnect",function(){process.exit(1)})),worker.exit=process.exit.bind(process)}function convertError(o){return Object.getOwnPropertyNames(o).reduce(function(e,r){return Object.defineProperty(e,r,{value:o[r],enumerable:!0})},{})}function isPromise(e){return e&&"function"==typeof e.then&&"function"==typeof e.catch}worker.methods={},worker.methods.run=function(e,r){e=new Function("return ("+e+").apply(null, arguments);");return e.apply(e,r)},worker.methods.methods=function(){return Object.keys(worker.methods)},worker.terminationHandler=void 0,worker.cleanupAndExit=function(e){function r(){worker.exit(e)}if(!worker.terminationHandler)return r();var o=worker.terminationHandler(e);isPromise(o)?o.then(r,r):r()};var currentRequestId=null;worker.on("message",function(r){if(r===TERMINATE_METHOD_ID)return worker.cleanupAndExit(0);try{var e=worker.methods[r.method];if(!e)throw new Error('Unknown method "'+r.method+'"');currentRequestId=r.id;var o=e.apply(e,r.params);isPromise(o)?o.then(function(e){e instanceof Transfer?worker.send({id:r.id,result:e.message,error:null},e.transfer):worker.send({id:r.id,result:e,error:null}),currentRequestId=null}).catch(function(e){worker.send({id:r.id,result:null,error:convertError(e)}),currentRequestId=null}):(o instanceof Transfer?worker.send({id:r.id,result:o.message,error:null},o.transfer):worker.send({id:r.id,result:o,error:null}),currentRequestId=null)}catch(e){worker.send({id:r.id,result:null,error:convertError(e)})}}),worker.register=function(e,r){if(e)for(var o in e)e.hasOwnProperty(o)&&(worker.methods[o]=e[o]);r&&(worker.terminationHandler=r.onTerminate),worker.send("ready")},worker.emit=function(e){currentRequestId&&(e instanceof Transfer?worker.send({id:currentRequestId,isEvent:!0,payload:e.message},e.transfer):worker.send({id:currentRequestId,isEvent:!0,payload:e}))},__webpack_unused_export__=worker.register,worker.emit}()}();`});var Y=l((Ne,m)=>{"use strict";var b=x(),J=v(),E=W(),G="__workerpool-terminate__";function K(){var e=q();if(!e)throw new Error("WorkerPool: workerType = 'thread' is not supported, Node >= 11.7.0 required");return e}function V(){if(typeof Worker!="function"&&(typeof Worker!="object"||typeof Worker.prototype.constructor!="function"))throw new Error("WorkerPool: Web Workers not supported")}function q(){try{return E("worker_threads")}catch(e){if(typeof e=="object"&&e!==null&&e.code==="MODULE_NOT_FOUND")return null;throw e}}function xe(){if(J.platform==="browser"){if(typeof Blob>"u")throw new Error("Blob not supported by the browser");if(!window.URL||typeof window.URL.createObjectURL!="function")throw new Error("URL.createObjectURL not supported by the browser");var e=new Blob([Q()],{type:"text/javascript"});return window.URL.createObjectURL(e)}else return __dirname+"/worker.js"}function be(e,t){if(t.workerType==="web")return V(),P(e,Worker);if(t.workerType==="thread")return r=K(),j(e,r,t.workerThreadOpts);if(t.workerType==="process"||!t.workerType)return A(e,X(t),E("child_process"));if(J.platform==="browser")return V(),P(e,Worker);var r=q();return r?j(e,r):A(e,X(t),E("child_process"))}function P(e,t){var r=new t(e);return r.isBrowserWorker=!0,r.on=function(o,n){this.addEventListener(o,function(s){n(s.data)})},r.send=function(o,n){this.postMessage(o,n)},r}function j(e,t,r){var o=new t.Worker(e,{stdout:!1,stderr:!1,...r});return o.isWorkerThread=!0,o.send=function(n,s){this.postMessage(n,s)},o.kill=function(){return this.terminate(),!0},o.disconnect=function(){this.terminate()},o}function A(e,t,r){var o=r.fork(e,t.forkArgs,t.forkOpts),n=o.send;return o.send=function(s){return n.call(o,s)},o.isChildProcess=!0,o}function X(e){e=e||{};var t=process.execArgv.join(" "),r=t.indexOf("--inspect")!==-1,o=t.indexOf("--debug-brk")!==-1,n=[];return r&&(n.push("--inspect="+e.debugPort),o&&n.push("--debug-brk")),process.execArgv.forEach(function(s){s.indexOf("--max-old-space-size")>-1&&n.push(s)}),Object.assign({},e,{forkArgs:e.forkArgs,forkOpts:Object.assign({},e.forkOpts,{execArgv:(e.forkOpts&&e.forkOpts.execArgv||[]).concat(n)})})}function Oe(e){for(var t=new Error(""),r=Object.keys(e),o=0;o<r.length;o++)t[r[o]]=e[r[o]];return t}function y(e,t){var r=this,o=t||{};this.script=e||xe(),this.worker=be(this.script,o),this.debugPort=o.debugPort,this.forkOpts=o.forkOpts,this.forkArgs=o.forkArgs,this.workerThreadOpts=o.workerThreadOpts,this.workerTerminateTimeout=o.workerTerminateTimeout,e||(this.worker.ready=!0),this.requestQueue=[],this.worker.on("message",function(i){if(!r.terminated)if(typeof i=="string"&&i==="ready")r.worker.ready=!0,s();else{var u=i.id,a=r.processing[u];a!==void 0&&(i.isEvent?a.options&&typeof a.options.on=="function"&&a.options.on(i.payload):(delete r.processing[u],r.terminating===!0&&r.terminate(),i.error?a.resolver.reject(Oe(i.error)):a.resolver.resolve(i.result)))}});function n(i){r.terminated=!0;for(var u in r.processing)r.processing[u]!==void 0&&r.processing[u].resolver.reject(i);r.processing=Object.create(null)}function s(){for(let i of r.requestQueue.splice(0))r.worker.send(i.message,i.transfer)}var c=this.worker;this.worker.on("error",n),this.worker.on("exit",function(i,u){var a=`Workerpool Worker terminated Unexpectedly
`;a+="    exitCode: `"+i+"`\n",a+="    signalCode: `"+u+"`\n",a+="    workerpool.script: `"+r.script+"`\n",a+="    spawnArgs: `"+c.spawnargs+"`\n",a+="    spawnfile: `"+c.spawnfile+"`\n",a+="    stdout: `"+c.stdout+"`\n",a+="    stderr: `"+c.stderr+"`\n",n(new Error(a))}),this.processing=Object.create(null),this.terminating=!1,this.terminated=!1,this.cleaning=!1,this.terminationHandler=null,this.lastId=0}y.prototype.methods=function(){return this.exec("methods")};y.prototype.exec=function(e,t,r,o){r||(r=b.defer());var n=++this.lastId;this.processing[n]={id:n,resolver:r,options:o};var s={message:{id:n,method:e,params:t},transfer:o&&o.transfer};this.terminated?r.reject(new Error("Worker is terminated")):this.worker.ready?this.worker.send(s.message,s.transfer):this.requestQueue.push(s);var c=this;return r.promise.catch(function(i){if(i instanceof b.CancellationError||i instanceof b.TimeoutError)return delete c.processing[n],c.terminateAndNotify(!0).then(function(){throw i},function(u){throw u});throw i})};y.prototype.busy=function(){return this.cleaning||Object.keys(this.processing).length>0};y.prototype.terminate=function(e,t){var r=this;if(e){for(var o in this.processing)this.processing[o]!==void 0&&this.processing[o].resolver.reject(new Error("Worker terminated"));this.processing=Object.create(null)}if(typeof t=="function"&&(this.terminationHandler=t),this.busy())this.terminating=!0;else{var n=function(c){if(r.terminated=!0,r.cleaning=!1,r.worker!=null&&r.worker.removeAllListeners&&r.worker.removeAllListeners("message"),r.worker=null,r.terminating=!1,r.terminationHandler)r.terminationHandler(c,r);else if(c)throw c};if(this.worker)if(typeof this.worker.kill=="function"){if(this.worker.killed){n(new Error("worker already killed!"));return}var s=setTimeout(function(){r.worker&&r.worker.kill()},this.workerTerminateTimeout);this.worker.once("exit",function(){clearTimeout(s),r.worker&&(r.worker.killed=!0),n()}),this.worker.ready?this.worker.send(G):this.requestQueue.push(G),this.cleaning=!0;return}else if(typeof this.worker.terminate=="function")this.worker.terminate(),this.worker.killed=!0;else throw new Error("Failed to terminate worker");n()}};y.prototype.terminateAndNotify=function(e,t){var r=b.defer();return t&&(r.promise.timeout=t),this.terminate(e,function(o,n){o?r.reject(o):r.resolve(n)}),r.promise};m.exports=y;m.exports._tryRequireWorkerThreads=q;m.exports._setupProcessWorker=A;m.exports._setupBrowserWorker=P;m.exports._setupWorkerThreadWorker=j;m.exports.ensureWorkerThreads=K});var re=l((Ue,ee)=>{"use strict";var Z=65535;ee.exports=S;function S(){this.ports=Object.create(null),this.length=0}S.prototype.nextAvailableStartingAt=function(e){for(;this.ports[e]===!0;)e++;if(e>=Z)throw new Error("WorkerPool debug port limit reached: "+e+">= "+Z);return this.ports[e]=!0,this.length++,e};S.prototype.releasePort=function(e){delete this.ports[e],this.length--}});var se=l((ze,ie)=>{var M=x(),te=Y(),Te=v(),We=re(),R=new We;function p(e,t){typeof e=="string"?this.script=e||null:(this.script=null,t=e),this.workers=[],this.tasks=[],t=t||{},this.forkArgs=Object.freeze(t.forkArgs||[]),this.forkOpts=Object.freeze(t.forkOpts||{}),this.workerThreadOpts=Object.freeze(t.workerThreadOpts||{}),this.debugPortStart=t.debugPortStart||43210,this.nodeWorker=t.nodeWorker,this.workerType=t.workerType||t.nodeWorker||"auto",this.maxQueueSize=t.maxQueueSize||1/0,this.workerTerminateTimeout=t.workerTerminateTimeout||1e3,this.onCreateWorker=t.onCreateWorker||(()=>null),this.onTerminateWorker=t.onTerminateWorker||(()=>null),t&&"maxWorkers"in t?(Ee(t.maxWorkers),this.maxWorkers=t.maxWorkers):this.maxWorkers=Math.max((Te.cpus||4)-1,1),t&&"minWorkers"in t&&(t.minWorkers==="max"?this.minWorkers=this.maxWorkers:(Pe(t.minWorkers),this.minWorkers=t.minWorkers,this.maxWorkers=Math.max(this.minWorkers,this.maxWorkers)),this._ensureMinWorkers()),this._boundNext=this._next.bind(this),this.workerType==="thread"&&te.ensureWorkerThreads()}p.prototype.exec=function(e,t,r){if(t&&!Array.isArray(t))throw new TypeError('Array expected as argument "params"');if(typeof e=="string"){var o=M.defer();if(this.tasks.length>=this.maxQueueSize)throw new Error("Max queue size of "+this.maxQueueSize+" reached");var n=this.tasks,s={method:e,params:t,resolver:o,timeout:null,options:r};n.push(s);var c=o.promise.timeout;return o.promise.timeout=function(u){return n.indexOf(s)!==-1?(s.timeout=u,o.promise):c.call(o.promise,u)},this._next(),o.promise}else{if(typeof e=="function")return this.exec("run",[String(e),t]);throw new TypeError('Function or string expected as argument "method"')}};p.prototype.proxy=function(){if(arguments.length>0)throw new Error("No arguments expected");var e=this;return this.exec("methods").then(function(t){var r={};return t.forEach(function(o){r[o]=function(){return e.exec(o,Array.prototype.slice.call(arguments))}}),r})};p.prototype._next=function(){if(this.tasks.length>0){var e=this._getWorker();if(e){var t=this,r=this.tasks.shift();if(r.resolver.promise.pending){var o=e.exec(r.method,r.params,r.resolver,r.options).then(t._boundNext).catch(function(){if(e.terminated)return t._removeWorker(e)}).then(function(){t._next()});typeof r.timeout=="number"&&o.timeout(r.timeout)}else t._next()}}};p.prototype._getWorker=function(){for(var e=this.workers,t=0;t<e.length;t++){var r=e[t];if(r.busy()===!1)return r}return e.length<this.maxWorkers?(r=this._createWorkerHandler(),e.push(r),r):null};p.prototype._removeWorker=function(e){var t=this;return R.releasePort(e.debugPort),this._removeWorkerFromList(e),this._ensureMinWorkers(),new M(function(r,o){e.terminate(!1,function(n){t.onTerminateWorker({forkArgs:e.forkArgs,forkOpts:e.forkOpts,workerThreadOpts:e.workerThreadOpts,script:e.script}),n?o(n):r(e)})})};p.prototype._removeWorkerFromList=function(e){var t=this.workers.indexOf(e);t!==-1&&this.workers.splice(t,1)};p.prototype.terminate=function(e,t){var r=this;this.tasks.forEach(function(i){i.resolver.reject(new Error("Pool terminated"))}),this.tasks.length=0;var o=function(i){R.releasePort(i.debugPort),this._removeWorkerFromList(i)},n=o.bind(this),s=[],c=this.workers.slice();return c.forEach(function(i){var u=i.terminateAndNotify(e,t).then(n).always(function(){r.onTerminateWorker({forkArgs:i.forkArgs,forkOpts:i.forkOpts,workerThreadOpts:i.workerThreadOpts,script:i.script})});s.push(u)}),M.all(s)};p.prototype.stats=function(){var e=this.workers.length,t=this.workers.filter(function(r){return r.busy()}).length;return{totalWorkers:e,busyWorkers:t,idleWorkers:e-t,pendingTasks:this.tasks.length,activeTasks:t}};p.prototype._ensureMinWorkers=function(){if(this.minWorkers)for(var e=this.workers.length;e<this.minWorkers;e++)this.workers.push(this._createWorkerHandler())};p.prototype._createWorkerHandler=function(){let e=this.onCreateWorker({forkArgs:this.forkArgs,forkOpts:this.forkOpts,workerThreadOpts:this.workerThreadOpts,script:this.script})||{};return new te(e.script||this.script,{forkArgs:e.forkArgs||this.forkArgs,forkOpts:e.forkOpts||this.forkOpts,workerThreadOpts:e.workerThreadOpts||this.workerThreadOpts,debugPort:R.nextAvailableStartingAt(this.debugPortStart),workerType:this.workerType,workerTerminateTimeout:this.workerTerminateTimeout})};function Ee(e){if(!oe(e)||!ne(e)||e<1)throw new TypeError("Option maxWorkers must be an integer number >= 1")}function Pe(e){if(!oe(e)||!ne(e)||e<0)throw new TypeError("Option minWorkers must be an integer number >= 0")}function oe(e){return typeof e=="number"}function ne(e){return Math.round(e)==e}ie.exports=p});var I=l((Be,ue)=>{function je(e,t){this.message=e,this.transfer=t}ue.exports=je});var $=l((exports,module)=>{var Transfer=I(),requireFoolWebpack=eval(`typeof require !== 'undefined' ? require : function (module) { throw new Error('Module " + module + " not found.') }`),TERMINATE_METHOD_ID="__workerpool-terminate__",worker={exit:function(){}};if(typeof self<"u"&&typeof postMessage=="function"&&typeof addEventListener=="function")worker.on=function(e,t){addEventListener(e,function(r){t(r.data)})},worker.send=function(e){postMessage(e)};else if(typeof process<"u"){try{WorkerThreads=requireFoolWebpack("worker_threads")}catch(e){if(!(typeof e=="object"&&e!==null&&e.code==="MODULE_NOT_FOUND"))throw e}WorkerThreads&&WorkerThreads.parentPort!==null?(parentPort=WorkerThreads.parentPort,worker.send=parentPort.postMessage.bind(parentPort),worker.on=parentPort.on.bind(parentPort),worker.exit=process.exit.bind(process)):(worker.on=process.on.bind(process),worker.send=function(e){process.send(e)},worker.on("disconnect",function(){process.exit(1)}),worker.exit=process.exit.bind(process))}else throw new Error("Script must be executed as a worker");var WorkerThreads,parentPort;function convertError(e){return Object.getOwnPropertyNames(e).reduce(function(t,r){return Object.defineProperty(t,r,{value:e[r],enumerable:!0})},{})}function isPromise(e){return e&&typeof e.then=="function"&&typeof e.catch=="function"}worker.methods={};worker.methods.run=function e(t,r){var o=new Function("return ("+t+").apply(null, arguments);");return o.apply(o,r)};worker.methods.methods=function e(){return Object.keys(worker.methods)};worker.terminationHandler=void 0;worker.cleanupAndExit=function(e){var t=function(){worker.exit(e)};if(!worker.terminationHandler)return t();var r=worker.terminationHandler(e);isPromise(r)?r.then(t,t):t()};var currentRequestId=null;worker.on("message",function(e){if(e===TERMINATE_METHOD_ID)return worker.cleanupAndExit(0);try{var t=worker.methods[e.method];if(t){currentRequestId=e.id;var r=t.apply(t,e.params);isPromise(r)?r.then(function(o){o instanceof Transfer?worker.send({id:e.id,result:o.message,error:null},o.transfer):worker.send({id:e.id,result:o,error:null}),currentRequestId=null}).catch(function(o){worker.send({id:e.id,result:null,error:convertError(o)}),currentRequestId=null}):(r instanceof Transfer?worker.send({id:e.id,result:r.message,error:null},r.transfer):worker.send({id:e.id,result:r,error:null}),currentRequestId=null)}else throw new Error('Unknown method "'+e.method+'"')}catch(o){worker.send({id:e.id,result:null,error:convertError(o)})}});worker.register=function(e,t){if(e)for(var r in e)e.hasOwnProperty(r)&&(worker.methods[r]=e[r]);t&&(worker.terminationHandler=t.onTerminate),worker.send("ready")};worker.emit=function(e){if(currentRequestId){if(e instanceof Transfer){worker.send({id:currentRequestId,isEvent:!0,payload:e.message},e.transfer);return}worker.send({id:currentRequestId,isEvent:!0,payload:e})}};typeof exports<"u"&&(exports.add=worker.register,exports.emit=worker.emit)});var ae=l(d=>{var H=v();d.pool=function(t,r){var o=se();return new o(t,r)};d.worker=function(t,r){var o=$();o.add(t,r)};d.workerEmit=function(t){var r=$();r.emit(t)};d.Promise=x();d.Transfer=I();d.platform=H.platform;d.isMainThread=H.isMainThread;d.cpus=H.cpus});var T=Symbol.for("imba");var Ie={SUPERCALLS:1<<3,CONSTRUCTOR:1<<4},$e={IsExtension:1<<0,IsTag:1<<1,HasDescriptors:1<<2,HasSuperCalls:1<<3,HasConstructor:1<<4,HasFields:1<<5,HasMixins:1<<6,HasInitor:1<<7,HasDecorators:1<<8,IsObjectExtension:1<<9},ge=new Map,He=globalThis[T]||(globalThis[T]={counter:0,classes:ge});function L(e){return e?.toIterable?.()||e}var w={cache:{},self:null,target:null,proxy:new Proxy({},{apply:(e,t,...r)=>w.target[t].apply(w.self,r),get:(e,t)=>Reflect.get(w.target,t,w.self),set:(e,t,r,o)=>Reflect.set(w.target,t,r,w.self)})};var ce=require("./dist/compiler.cjs"),fe=_e(require("./scripts/bootstrap.compiler.js")),Ae=Symbol.for("#lineText"),qe=ae(),Ve=Math.random();function Se(e,t){let r={id:t.sourceId},o=null;try{o=(0,ce.compile)(e,t)}catch(s){console.log("ERROR COMPILING IMBA",s,t.sourcePath),o={}}for(let s=0,c=L(o.diagnostics),i=c.length;s<i;s++){let u=c[s];u.lineText=u[Ae]}o.warnings&&(r.warnings=o.warnings),o.errors&&(r.errors=o.errors);let n=o.js;return r.js=n,r.css=o.css,r}function Me(e,t){t.target=="browser"&&(t.target="web");let r={id:t.sourceId,warnings:[],errors:[]},n=fe.default.compile(e,t).js;return n.indexOf("$_ =")>0&&(n=`var $_;
`+n),r.js=n,r}qe.worker({compile_imba:Se,compile_imba1:Me});
